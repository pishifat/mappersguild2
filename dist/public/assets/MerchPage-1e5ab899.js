import{d as l,m as h,A as u,_,o as s,e as o,a as t,F as p,r as m,t as y,k,u as g,x as f,j as a}from"./index-c0553a8f.js";const b={namespaced:!0,state:{merch:[]},mutations:{setMerch(e,n){e.merch=n}},getters:{allMerch:e=>e.merch}},v=b,M=l({name:"MerchPage",data(){return{clicked:!1}},computed:{...h(["loggedInUser"]),...u("merch",["allMerch"])},beforeCreate(){this.$store.hasModule("merch")||this.$store.registerModule("merch",v)},async created(){const e=await this.$http.initialRequest("/merch/query");this.$http.isError(e)||this.$store.commit("merch/setMerch",e.merch)},methods:{async checkout(e,n){console.log("aa"),this.clicked=!0;const i=await this.$http.executePost("/merch/checkout",{pid:e},n);this.$http.isError(i)||window.location.replace(i)}}});const c=e=>(g("data-v-fd5d6d47"),e=e(),f(),e),$=c(()=>t("p",{class:"opacity-0"}," . ",-1)),w={key:0,class:"my-4"},I={key:0,class:"col-sm-12 card card-body ps-4"},x=c(()=>t("h5",{class:"mt-2"}," info ",-1)),C=c(()=>t("div",null,[a("you can only begin the checkout process "),t("b",null,"once"),a("! this requires...")],-1)),S=c(()=>t("ul",null,[t("li",null,[a("contact email "),t("span",{class:"text-secondary small"},"(this must be the same as your osu! account's email)")]),t("li",null,"shipping address")],-1)),U=c(()=>t("div",null,"when you've gathered this info, checkout below :)",-1)),q=[x,C,S,U],P={key:1,class:"double-center text-center"},A=c(()=>t("p",null,"request expired",-1)),B=c(()=>t("p",null,[a("if you think something went wrong, "),t("a",{href:"https://osu.ppy.sh/community/chat?sendto=3178418",target:"_blank"},"talk to pishifat")],-1)),E=[A,B],N={key:2},V=c(()=>t("hr",null,null,-1)),F={key:0},j={key:1},D={class:"text-lowercase"},G=["onClick"],L={key:1,class:"double-center"};function O(e,n,i,R,T,z){return s(),o("div",null,[$,e.clicked?(s(),o("div",L," redirecting to shopify checkout... ")):(s(),o("div",w,[e.loggedInUser.hasMerchAccess?(s(),o("div",I,q)):(s(),o("div",P,E)),e.loggedInUser.hasMerchAccess?(s(),o("div",N,[V,e.loggedInUser.hasSpecificMerchOrder?(s(),o("div",F,[t("button",{class:"btn btn-sm btn-outline-info mt-2 d-grid gap-2 col-12 mx-auto",onClick:n[0]||(n[0]=r=>e.checkout(null,r))}," your order has already been selected! proceed to checkout ")])):(s(),o("div",j,[(s(!0),o(p,null,m(e.allMerch,r=>(s(),o("div",{key:r.id,class:"card card-level-2 card-body my-2 ps-4"},[t("h4",D,y(r.title),1),t("button",{class:"btn btn-sm btn-outline-info mt-2 d-grid gap-2 col-12 mx-auto",onClick:d=>e.checkout(r.id,d)}," proceed to shopify checkout ",8,G)]))),128))]))])):k("",!0)]))])}const J=_(M,[["render",O],["__scopeId","data-v-fd5d6d47"]]);export{J as default};

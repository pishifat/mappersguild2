import{d as n,m as l,A as h,_ as u,o as t,e as s,a,F as p,r as m,t as _,k as b,u as y,x as g,$ as k,j as v}from"./index-9fdf6c8f.js";const f={namespaced:!0,state:{merch:[]},mutations:{setMerch(e,o){e.merch=o}},getters:{allMerch:e=>e.merch}},M=f,$=n({name:"MerchPage",data(){return{clicked:!1}},computed:{...l(["loggedInUser"]),...h("merch",["allMerch"])},beforeCreate(){this.$store.hasModule("merch")||this.$store.registerModule("merch",M)},async created(){const e=await this.$http.initialRequest("/merch/query");this.$http.isError(e)||this.$store.commit("merch/setMerch",e.merch)},methods:{async checkout(e,o){console.log("aa"),this.clicked=!0;const r=await this.$http.executePost("/merch/checkout",{pid:e},o);this.$http.isError(r)||window.location.replace(r)}}});const d=e=>(y("data-v-3a96dbe5"),e=e(),g(),e),w=d(()=>a("p",{class:"opacity-0"}," . ",-1)),I={key:0,class:"my-4"},x={key:0,class:"col-sm-12 card card-body ps-4"},S=k('<h5 class="mt-2" data-v-3a96dbe5> info </h5><div data-v-3a96dbe5>you can only begin the checkout process <b data-v-3a96dbe5>once</b>! this requires...</div><ul data-v-3a96dbe5><li data-v-3a96dbe5>contact email <span class="text-secondary small" data-v-3a96dbe5>(this must be the same as your osu! account&#39;s email)</span></li><li data-v-3a96dbe5>shipping address</li><li data-v-3a96dbe5>billing address <span class="text-secondary small" data-v-3a96dbe5>(can be the same as your shipping address)</span></li></ul><div data-v-3a96dbe5>when you&#39;ve gathered this info, checkout below :)</div>',4),C=[S],U={key:1,class:"double-center text-center"},q=d(()=>a("p",null,"request expired",-1)),N=d(()=>a("p",null,[v("if you think something went wrong, "),a("a",{href:"https://osu.ppy.sh/community/chat?sendto=3178418",target:"_blank"},"talk to pishifat")],-1)),P=[q,N],V={key:2},A=d(()=>a("hr",null,null,-1)),B={key:0},E={key:1},F={class:"text-lowercase"},j=["onClick"],D={key:1,class:"double-center"};function G(e,o,r,L,O,R){return t(),s("div",null,[w,e.clicked?(t(),s("div",D," redirecting to shopify checkout... ")):(t(),s("div",I,[e.loggedInUser.hasMerchAccess?(t(),s("div",x,C)):(t(),s("div",U,P)),e.loggedInUser.hasMerchAccess?(t(),s("div",V,[A,e.loggedInUser.hasSpecificMerchOrder?(t(),s("div",B,[a("button",{class:"btn btn-sm btn-outline-info mt-2 d-grid gap-2 col-12 mx-auto",onClick:o[0]||(o[0]=c=>e.checkout(null,c))}," your order has already been selected! proceed to checkout ")])):(t(),s("div",E,[(t(!0),s(p,null,m(e.allMerch,c=>(t(),s("div",{key:c.id,class:"card card-level-2 card-body my-2 ps-4"},[a("h4",F,_(c.title),1),a("button",{class:"btn btn-sm btn-outline-info mt-2 d-grid gap-2 col-12 mx-auto",onClick:i=>e.checkout(c.id,i)}," proceed to shopify checkout ",8,j)]))),128))]))])):b("",!0)]))])}const z=u($,[["render",G],["__scopeId","data-v-3a96dbe5"]]);export{z as default};

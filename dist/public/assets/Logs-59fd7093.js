import{d as i,_ as c,o as r,e as n,a as s,F as d,r as h,t as a,j as l}from"./index-5c35de22.js";const u=i({data(){return{skip:100,logs:[]}},async created(){const t=await this.$http.initialRequest("/logs/query");this.$http.isError(t)||(this.logs=t.logs)},methods:{shortDate(t){return t?new Date(t).toLocaleString("en-US",{timeZone:"UTC",timeZoneName:"short",month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}):""},shortAction(t){return t?t.length>120?t.toString().slice(0,120)+"...":t:""},async showMore(t){const o=await this.$http.executeGet(`/logs/query?skip=${this.skip}`,t);this.$http.isError(o)||(this.skip+=100,this.logs=[...this.logs,...o.logs])}}}),p={class:"container card card-body pt-1 pb-4"},_={class:"row"},m={class:"col-md-12"},f={class:"table table-sm mt-3"},g=s("thead",null,[s("tr",null,[s("th",{scope:"col"}," date "),s("th",{scope:"col"}," user "),s("th",{scope:"col"}," action ")])],-1),y={scope:"row"},b={scope:"row"},w=["href"],k={key:1},$={scope:"row"},v={class:"text-center"},A=s("i",{class:"fas fa-angle-down me-1"},null,-1),D=s("i",{class:"fas fa-angle-down ms-1"},null,-1);function S(t,o,q,B,C,E){return r(),n("div",p,[s("div",_,[s("div",m,[s("table",f,[g,s("tbody",null,[(r(!0),n(d,null,h(t.logs,e=>(r(),n("tr",{key:e.id},[s("td",y,a(t.shortDate(e.createdAt)),1),s("td",b,[e.user?(r(),n("a",{key:0,href:`https://osu.ppy.sh/users/${e.user.osuId}`,target:"_blank"},a(e.user.username),9,w)):(r(),n("span",k,"MG Automation"))]),s("td",$,a(t.shortAction(e.action)),1)]))),128))])]),s("div",v,[s("button",{class:"btn btn-sm btn-primary",type:"button",onClick:o[0]||(o[0]=e=>t.showMore(e))},[A,l(" show more "),D])])])])])}const M=c(u,[["render",S]]);export{M as default};

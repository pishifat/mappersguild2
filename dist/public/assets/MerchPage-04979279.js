import{C as v}from"./CopyPaste-7e3bac91.js";import{d as m,_ as h,o as n,e as d,a as t,b as l,v as M,f as $,c as O,w as g,F as k,r as w,t as y,k as u,q as i,g as C,j as p,i as c}from"./index-c8d4ec2c.js";import{L as U}from"./LoadUsers-7f73f41e.js";import"./UserInfo-856f02c5.js";import"./ModalDialog-072e56f7.js";import"./DataTable-482d6762.js";import"./user-a97d0bc7.js";const S=m({name:"ResetHasMerchAccess",components:{CopyPaste:v},data(){return{osuIdInput:"",field:"",users:[]}},methods:{async reset(e){if(confirm("Are you sure?")){const a=await this.$http.executePost("/admin/users/resetMerchUsers",{osuIdInput:this.osuIdInput,field:this.field},e);a&&!a.error&&this.$store.dispatch("updateToastMessages",{message:`reset ${a} users`,type:"success"}),this.users=[]}},async loadUsers(e){const s=await this.$http.executePost("/admin/users/loadMerchUsers",{field:this.field},e);s&&!s.error&&(this.users=s,this.$store.dispatch("updateToastMessages",{message:`loaded ${s.length} users`,type:"success"}))}}}),V={class:"container card card-body py-3 mb-2"},B=t("h5",null," Reset Merch ",-1),A={class:"mb-2"},F={class:"row"},L={class:"col-sm-6"},P=t("option",{disabled:"",value:""}," Select a field ",-1),D=t("option",{value:"HasMerchAccess"}," hasMerchAccess ",-1),N=t("option",{value:"HasSpecificMerchOrder"}," hasSpecificMerchOrder ",-1),R=[P,D,N],T={class:"col-sm-6"},H=["disabled"],E=["disabled"];function K(e,s,a,f,_,b){const r=i("copy-paste");return n(),d("div",V,[B,t("div",A,[t("div",F,[t("div",L,[l(t("select",{"onUpdate:modelValue":s[0]||(s[0]=o=>e.field=o),class:"form-select form-select-sm"},R,512),[[M,e.field]])]),t("div",T,[l(t("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>e.osuIdInput=o),class:"form-control form-control-sm mb-2",autocomplete:"off",placeholder:"exclude osuIds (comma separated) from reset..."},null,512),[[$,e.osuIdInput]])])]),t("button",{disabled:!e.field.length,class:"btn btn-sm btn-info w-25 me-2",onClick:s[2]||(s[2]=o=>e.loadUsers(o))}," Load users ",8,H),t("button",{disabled:!e.field.length,class:"btn btn-sm btn-danger w-25",onClick:s[3]||(s[3]=o=>e.reset(o))}," Reset ",8,E),e.users.length?(n(),O(r,{key:0,class:"col-sm-6"},{default:g(()=>[t("ol",null,[(n(!0),d(k,null,w(e.users,o=>(n(),d("li",{key:o.id},y(o.username),1))),128))])]),_:1})):u("",!0)])])}const j=h(S,[["render",K]]),q=m({name:"FindMerchByOsuId",data(){return{orderOutput:"",userInput:""}},methods:{async searchOrder(e){const s=await this.$http.executePost("/admin/merch/searchOrder",{userInput:this.userInput},e);this.$http.isError(s)||(this.orderOutput=s)}}}),z={class:"container card card-body"},G=t("h5",null," Find merch by osu! order ID ",-1),J=t("div",{class:"text-secondary small mb-1"},[p(" Use ASS to find provider output (something like "),t("code",null,".lookup-order 2222222"),p("), then paste that below ")],-1),Q={key:0},W={key:0};function X(e,s,a,f,_,b){return n(),d("div",z,[G,J,l(t("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>e.userInput=r),class:"form-control form-control-sm mb-2",type:"text",autocomplete:"off",placeholder:"enter to search...",onKeyup:s[1]||(s[1]=C(r=>e.searchOrder(r),["enter"]))},null,544),[[$,e.userInput]]),t("button",{class:"btn btn-sm w-100 btn-info mb-2",onClick:s[2]||(s[2]=r=>e.searchOrder(r))}," Load order ID "),e.orderOutput?(n(),d("div",Q,[p(" Order: "),e.orderOutput?(n(),d("code",W,y(e.orderOutput),1)):u("",!0)])):u("",!0)])}const Y=h(q,[["render",X]]),Z=m({components:{LoadUsers:U,ResetMerch:j,FindMerchByOsuId:Y}}),x=t("hr",null,null,-1);function ee(e,s,a,f,_,b){const r=i("load-users"),o=i("find-merch-by-osu-id"),I=i("reset-merch");return n(),d("div",null,[c(r),x,c(o),c(I)])}const ie=h(Z,[["render",ee]]);export{ie as default};

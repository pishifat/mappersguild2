import{d as _,m as g,A as y,_ as k,o as t,e as o,a as s,j as n,t as l,k as r,F as u,r as p,b as v,v as w,u as b,x as f,$ as M}from"./index-dc4bbe2d.js";const C={namespaced:!0,state:{merch:[]},mutations:{setMerch(e,i){e.merch=i}},getters:{allMerch:e=>e.merch}},I=C,S=_({name:"MerchPage",data(){return{checkoutOutput:{},clicked:!1,worldCupSweaterSize:""}},computed:{...g(["loggedInUser"]),...y("merch",["allMerch"])},beforeCreate(){this.$store.hasModule("merch")||this.$store.registerModule("merch",I)},async created(){const e=await this.$http.initialRequest("/merch/query");this.$http.isError(e)||this.$store.commit("merch/setMerch",e.merch)},methods:{async checkout(e,i){this.clicked=!0;const h=await this.$http.executePost("/merch/checkout",{vid:e,size:this.worldCupSweaterSize},i);this.$http.isError(h)||(this.checkoutOutput=h,window.location.replace(h.webUrl))}}});const a=e=>(b("data-v-45e5c34d"),e=e(),f(),e),U=a(()=>s("p",{class:"opacity-0"}," . ",-1)),$={key:0,class:"my-4"},z={key:0,class:"col-sm-12 card card-body ps-4"},L=M('<h5 class="mt-2" data-v-45e5c34d> info </h5><div data-v-45e5c34d>you can only begin the checkout process <b data-v-45e5c34d>once</b>! this requires...</div><ul data-v-45e5c34d><li data-v-45e5c34d>contact email <span class="text-secondary small" data-v-45e5c34d>(this must be the same as your osu! account&#39;s email)</span></li><li data-v-45e5c34d>shipping address</li><li data-v-45e5c34d>billing address <span class="text-secondary small" data-v-45e5c34d>(can be the same as your shipping address)</span></li></ul><div data-v-45e5c34d>when you&#39;ve gathered this info, checkout below :)</div>',4),O=[L],V={key:1,class:"double-center text-center"},X=a(()=>s("p",null,"request expired",-1)),q=a(()=>s("p",null,[n("if you think something went wrong, "),s("a",{href:"https://osu.ppy.sh/community/chat?sendto=3178418",target:"_blank"},"talk to pishifat")],-1)),N=[X,q],P={key:2},A=a(()=>s("hr",null,null,-1)),B={key:0},D={key:1},E={class:"card card-body my-2 ps-4"},F=a(()=>s("div",null," based on your world cup placement(s), you'll receive these prizes: ",-1)),T={key:0,class:"text-secondary small"},j={key:0},G=a(()=>s("span",{class:"small text-secondary"},"(instead of the extra sweater above^)",-1)),R={key:1},H=a(()=>s("li",null,"world cup sticker",-1)),J={key:2},K=a(()=>s("option",{disabled:"",value:""}," Select a size ",-1)),Q=["disabled"],W=a(()=>s("option",{value:"M"}," Medium ",-1)),Y=a(()=>s("option",{value:"L"}," Large ",-1)),Z=a(()=>s("option",{value:"XL"}," XL ",-1)),x=["disabled"],ee=["disabled"],se=["disabled"],te={key:2},oe={class:"text-lowercase"},de={class:"d-inline"},ae=["src"],ie={class:"small text-secondary"},ce=["onClick"],le={key:0},re=a(()=>s("p",{class:"opacity-0"}," . ",-1)),ne={key:1,class:"double-center"};function he(e,i,h,ue,pe,me){return t(),o("div",null,[U,e.clicked?(t(),o("div",ne," redirecting to shopify checkout... ")):(t(),o("div",$,[e.loggedInUser.hasMerchAccess?(t(),o("div",z,O)):(t(),o("div",V,N)),e.loggedInUser.hasMerchAccess?(t(),o("div",P,[A,e.loggedInUser.hasSpecificMerchOrder?(t(),o("div",B,[s("button",{class:"btn btn-sm btn-outline-info mt-2 d-grid gap-2 col-12 mx-auto",onClick:i[0]||(i[0]=d=>e.checkout(null,d))}," your order has already been selected! proceed to checkout ")])):e.loggedInUser.worldCupMerch.active?(t(),o("div",D,[s("div",E,[F,s("ul",null,[s("li",null,[n(l(e.loggedInUser.worldCupMerch.sweater)+" world cup sweater ",1),e.loggedInUser.worldCupMerch.additionalItems?(t(),o("span",T,"(for shipping reasons, we can only send one sweater)")):r("",!0)]),e.loggedInUser.worldCupMerch.additionalItems?(t(),o("li",j,[n(l(e.loggedInUser.worldCupMerch.additionalItems)+" additional item(s) ",1),G])):r("",!0),e.loggedInUser.worldCupMerch.pin?(t(),o("li",R,"world cup pin")):r("",!0),H,e.loggedInUser.worldCupMerch.coins.length?(t(),o("span",J,[(t(!0),o(u,null,p(e.loggedInUser.worldCupMerch.coins,d=>(t(),o("li",{key:d},l(d)+" challenge coin",1))),128))])):r("",!0)]),n(" choose a sweater size: "),v(s("select",{"onUpdate:modelValue":i[1]||(i[1]=d=>e.worldCupSweaterSize=d),class:"form-select form-select-sm mb-2"},[K,s("option",{disabled:e.loggedInUser.worldCupMerch.sweater==2023&&e.loggedInUser.username!="mrekk",value:"S"}," Small ",8,Q),W,Y,Z,s("option",{disabled:e.loggedInUser.worldCupMerch.sweater==2023,value:"2XL"}," 2XL ",8,x),s("option",{disabled:e.loggedInUser.worldCupMerch.sweater==2023,value:"3XL"}," 3xL ",8,ee)],512),[[w,e.worldCupSweaterSize]]),s("button",{class:"btn btn-sm btn-outline-info mt-2 d-grid gap-2 col-12 mx-auto",disabled:!e.worldCupSweaterSize,onClick:i[2]||(i[2]=d=>e.checkout(null,d))}," proceed to shopify checkout ",8,se)])])):(t(),o("div",te,[(t(!0),o(u,null,p(e.allMerch,d=>(t(),o("div",{key:d.id,class:"card card-level-2 card-body my-2 ps-4"},[s("h4",oe,l(d.title),1),s("div",de,[(t(!0),o(u,null,p(d.images,c=>(t(),o("img",{key:c.id,src:c.src,class:"merch-img me-2 mb-2"},null,8,ae))),128))]),s("div",ie,l(d.description),1),(t(!0),o(u,null,p(d.variants,c=>(t(),o("div",{key:c.id},[s("button",{class:"btn btn-sm btn-outline-info mt-2 d-grid gap-2 col-12 mx-auto",onClick:m=>e.checkout(c.id,m)},[n(" proceed to shopify checkout "),c.title!=="Default Title"?(t(),o("span",le,"("+l(c.selectedOptions[0].name)+": "+l(c.selectedOptions[0].value)+")",1)):r("",!0)],8,ce)]))),128))]))),128))])),re])):r("",!0)]))])}const ge=k(S,[["render",he],["__scopeId","data-v-45e5c34d"]]);export{ge as default};

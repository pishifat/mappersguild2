import{d as v,U as R,m as j,_ as C,o as n,e as i,a as s,t as c,j as l,c as U,k as _,b as I,f as k,z as $,q as g,g as M,v as E,$ as q,F as y,r as b,i as f,n as w,w as A,u as T,x as D,A as V,l as ct}from"./index-3421501c.js";import{C as pt}from"./ContestCard-c8e272c3.js";import{U as mt}from"./user-a97d0bc7.js";import{C as L}from"./CopyPaste-915de6ca.js";import{M as ht}from"./ModalDialog-2d1f2abe.js";const gt=v({name:"ContestHeader",components:{UserLinkList:R},props:{contestId:{type:String,required:!0},name:{type:String,required:!0},url:{type:String,default:null},creators:{type:Array,required:!0}},data(){return{showCreatorInput:!1,creatorInput:""}},computed:{...j(["loggedInUser"]),creatorIds(){return this.creators.map(t=>t.id)}},watch:{creators(){this.generateUsernamesString()}},created(){this.generateUsernamesString()},methods:{generateUsernamesString(){const e=this.creators.map(o=>o.username).join(", ");this.creatorInput=e},async updateCreators(t){const e=await this.$http.executePost(`/contests/listing/${this.contestId}/updateCreators`,{creatorInput:this.creatorInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"Updated contest creators",type:"info"}),this.$store.commit("updateCreators",{contestId:this.contestId,creators:e}),this.showCreatorInput=!1)}}}),ft=["href"],$t={key:1},yt={class:"form-inline"},bt={class:"form-group"},_t=s("i",{class:"fas fa-edit"},null,-1),vt=[_t],Ct=s("hr",null,null,-1);function wt(t,e,o,d,p,m){const r=g("user-link-list");return n(),i("div",null,[s("h4",null,[t.url?(n(),i("a",{key:0,href:t.url,target:"_blank"},c(t.name),9,ft)):(n(),i("span",$t,c(t.name),1))]),s("div",yt,[s("div",bt,[l(" hosted by "),t.showCreatorInput?_("",!0):(n(),U(r,{key:0,users:t.creators},null,8,["users"])),t.showCreatorInput?I((n(),i("input",{key:1,"onUpdate:modelValue":e[0]||(e[0]=u=>t.creatorInput=u),class:"ml-1 form-control w-50 d-inline form-control-sm",onChange:e[1]||(e[1]=u=>t.updateCreators(u))},null,544)),[[k,t.creatorInput]]):_("",!0),t.creatorIds.includes(t.loggedInUser.id)?(n(),i("a",{key:2,href:"#",class:"ms-1",onClick:e[2]||(e[2]=$(u=>t.showCreatorInput=!t.showCreatorInput,["prevent"]))},vt)):_("",!0)])]),Ct])}const F=C(gt,[["render",wt]]),It=v({name:"ContestBanner",props:{bannerUrl:{type:String,required:!0}}}),St=["src"],kt=s("hr",null,null,-1);function Ut(t,e,o,d,p,m){return n(),i("div",null,[s("img",{class:"w-100",src:t.bannerUrl},null,8,St),kt])}const P=C(It,[["render",Ut]]),Mt=v({name:"DateInfo",props:{contestId:{type:String,required:!0},contestStart:{type:String,default:null},contestEnd:{type:String,default:null}},data(){return{newContestStart:this.contestStart,newContestEnd:this.contestEnd}},watch:{contestId(){this.newContestStart=this.contestStart,this.newContestEnd=this.contestEnd}},methods:{async updateContestStart(t){const e=await this.$http.executePost(`/contests/listing/${this.contestId}/updateContestStart`,{date:this.newContestStart},t);this.$http.isError(e)?this.newContestStart=this.contestStart:(this.$store.dispatch("updateToastMessages",{message:"Updated contest start date",type:"info"}),this.$store.commit("updateContestStart",{contestId:this.contestId,contestStart:e}))},async updateContestEnd(t){const e=await this.$http.executePost(`/contests/listing/${this.contestId}/updateContestEnd`,{date:this.newContestEnd},t);this.$http.isError(e)?this.newContestEnd=this.contestEnd:(this.$store.dispatch("updateToastMessages",{message:"Updated contest end date",type:"info"}),this.$store.commit("updateContestEnd",{contestId:this.contestId,contestEnd:e}))}}}),jt={class:"row"},At={class:"col-sm-6"},Tt={class:"form-inline w-100"},Dt={class:"input-group"},Jt={class:"input-group-append"},Et={class:"col-sm-6"},Vt={class:"form-inline w-100"},Nt={class:"input-group"},Bt={class:"input-group-append"};function Rt(t,e,o,d,p,m){return n(),i("div",jt,[s("div",At,[s("div",Tt,[l(" Submissions open: "),s("div",Dt,[I(s("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>t.newContestStart=r),class:"ml-1 form-control",type:"date",onKeyup:e[1]||(e[1]=M(r=>t.updateContestStart(r),["enter"]))},null,544),[[k,t.newContestStart]]),s("div",Jt,[s("button",{class:"btn btn-primary",href:"#",onClick:e[2]||(e[2]=r=>t.updateContestStart(r))}," Save date ")])])])]),s("div",Et,[s("div",Vt,[l(" Submissions close: "),s("div",Nt,[I(s("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>t.newContestEnd=r),class:"ml-1 form-control",type:"date",onKeyup:e[4]||(e[4]=M(r=>t.updateContestEnd(r),["enter"]))},null,544),[[k,t.newContestEnd]]),s("div",Bt,[s("button",{class:"btn btn-primary",href:"#",onClick:e[5]||(e[5]=r=>t.updateContestEnd(r))}," Save date ")])])])])])}const qt=C(Mt,[["render",Rt]]),Lt=v({name:"TitleEdit",props:{contestId:{type:String,required:!0},name:{type:String,default:null}},data(){return{newName:this.name}},watch:{contestId(){this.newName=this.name}},methods:{async updateName(t){const e=await this.$http.executePost(`/contests/listing/${this.contestId}/updateName`,{name:this.newName},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"Updated contest name",type:"info"}),this.$store.commit("updateName",{contestId:this.contestId,name:e}))}}}),Ft={class:"form-inline w-100 mt-2"};function Pt(t,e,o,d,p,m){return n(),i("div",Ft,[l(" Name: "),I(s("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>t.newName=r),class:"ml-1 form-control d-inline w-75",onChange:e[1]||(e[1]=r=>t.updateName(r))},null,544),[[k,t.newName]])])}const zt=C(Lt,[["render",Pt]]),Ot=v({name:"StatusInfo",props:{contestId:{type:String,required:!0},status:{type:String,default:null},isApproved:{type:Boolean,required:!0}},data(){return{newStatus:this.status}},watch:{contestId(){this.newStatus=this.status}},methods:{async updateStatus(t){const e=await this.$http.executePost(`/contests/listing/${this.contestId}/updateStatus`,{status:this.newStatus},t);this.$http.isError(e)?this.newStatus=this.status:(this.$store.dispatch("updateToastMessages",{message:"Updated contest status",type:"info"}),this.$store.commit("updateStatus",{contestId:this.contestId,status:e}))}}});const Gt=q('<option value="" disabled data-v-0a30f7a5> Select a status </option><option value="hidden" data-v-0a30f7a5> Hidden </option><option value="beatmapping" data-v-0a30f7a5> Beatmapping </option><option value="screening" data-v-0a30f7a5> Screening </option><option value="judging" data-v-0a30f7a5> Judging </option><option value="locked" data-v-0a30f7a5> Locked (prevents editing while you publish results) </option><option value="complete" data-v-0a30f7a5> Complete </option>',7),Ht=[Gt],Kt={key:0,class:"small text-danger mt-2"};function Xt(t,e,o,d,p,m){return n(),i("div",null,[l(" Status: "),I(s("select",{"onUpdate:modelValue":e[0]||(e[0]=r=>t.newStatus=r),class:"form-select form-select w-50 d-inline",onChange:e[1]||(e[1]=r=>t.updateStatus(r))},Ht,544),[[E,t.newStatus]]),!t.isApproved&&t.status!=="hidden"?(n(),i("div",Kt,' Your contest has been queued for approval. Once approved, it will appear in "Active contests". ')):_("",!0)])}const Yt=C(Ot,[["render",Xt],["__scopeId","data-v-0a30f7a5"]]),Qt=v({name:"ModeInfo",props:{contestId:{type:String,required:!0},mode:{type:String,default:""}},data(){return{newMode:this.mode}},watch:{contestId(){this.newMode=this.mode}},methods:{async updateMode(t){const e=await this.$http.executePost(`/contests/listing/${this.contestId}/updateMode`,{mode:this.newMode},t);this.$http.isError(e)?this.newMode=this.mode:(this.$store.dispatch("updateToastMessages",{message:"Updated contest mode",type:"info"}),this.$store.commit("updateMode",{contestId:this.contestId,mode:e}))}}});const Wt=q('<option value="" selected disabled data-v-4c30aa18> Select a mode </option><option value="osu" data-v-4c30aa18> osu! </option><option value="taiko" data-v-4c30aa18> osu!taiko </option><option value="catch" data-v-4c30aa18> osu!catch </option><option value="mania" data-v-4c30aa18> osu!mania </option>',5),Zt=[Wt];function xt(t,e,o,d,p,m){return n(),i("div",null,[l(" Mode: "),I(s("select",{"onUpdate:modelValue":e[0]||(e[0]=r=>t.newMode=r),class:"form-select form-select w-50 d-inline",onChange:e[1]||(e[1]=r=>t.updateMode(r))},Zt,544),[[E,t.newMode]])])}const te=C(Qt,[["render",xt],["__scopeId","data-v-4c30aa18"]]),ee=v({name:"AnonymizationGuide",props:{contestId:{type:String,required:!0}},data(){return{csvOutput:"",errors:[]}},methods:{async applyCsvOutput(t){const e=await this.$http.executePost(`/contests/listing/${this.contestId}/submissions/syncAnonymousNames`,{csv:this.csvOutput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"Updated submission names",type:"info"}),this.$store.commit("updateSubmissions",{contestId:this.contestId,submissions:e.submissions}),e.errors.length&&(this.errors=e.errors))}}}),se={class:"mx-4"},ne=s("ol",null,[s("li",null,[l("Follow instructions on the "),s("a",{href:"https://github.com/pishifat/contest-anonymization#readme",target:"_blank"},"contest anonymization GitHub repository"),l(". Use "),s("a",{href:"https://github.com/ikin5050/osuAnonmap#osuanonmap",target:"_blank"},"this"),l(" if you prefer Python.")]),s("li",null,[l("Ask "),s("a",{href:"https://osu.ppy.sh/users/3178418",target:"_blank"},"pishifat"),l(" to do option 1 for you.")]),s("li",null,"Manually anonymize entries (please don't waste your time with this).")],-1),oe=s("span",{class:"small text-secondary"},[l("If you succeed with step 1, paste your "),s("code",null,".csv"),l(" output here as raw text to replace anonymized names:")],-1),ie={class:"row"},re={class:"col-sm-10"},de={class:"col-sm-2"},ae={key:0,class:"small text-warning"};function le(t,e,o,d,p,m){return n(),i("div",se,[l(" Submissions must be anonymized locally, then transferred to Mappers' Guild. You have 3 options: "),ne,s("div",null,[oe,s("div",ie,[s("div",re,[I(s("textarea",{"onUpdate:modelValue":e[0]||(e[0]=r=>t.csvOutput=r),class:"form-control form-inline",rows:"1"},null,512),[[k,t.csvOutput]])]),s("div",de,[s("button",{type:"button",class:"btn btn-sm btn-outline-info mt-1 mx-1",onClick:e[1]||(e[1]=r=>t.applyCsvOutput(r))}," Save ")])]),t.errors.length?(n(),i("div",ae,[l(" The following submissions could not be processed and will need to be renamed manually: "),s("ul",null,[(n(!0),i(y,null,b(t.errors,r=>(n(),i("li",{key:r},c(r),1))),128))])])):_("",!0)])])}const ue=C(ee,[["render",le]]),ce=v({name:"Urls",props:{contestId:{type:String,required:!0},url:{type:String,default:null},osuContestListingUrl:{type:String,default:null},resultsUrl:{type:String,default:null},bannerUrl:{type:String,default:null}},data(){return{newUrl:this.url,newOsuContestListingUrl:this.osuContestListingUrl,newResultsUrl:this.resultsUrl,newBannerUrl:this.bannerUrl}},watch:{contestId(){this.newUrl=this.url,this.newOsuContestListingUrl=this.osuContestListingUrl,this.newResultsUrl=this.resultsUrl,this.newBannerUrl=this.bannerUrl}},methods:{async updateUrl(t){const e=await this.$http.executePost(`/contests/listing/${this.contestId}/updateUrl`,{url:this.newUrl},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"Updated contest url",type:"info"}),this.$store.commit("updateUrl",{contestId:this.contestId,url:e}))},async updateOsuContestListingUrl(t){const e=await this.$http.executePost(`/contests/listing/${this.contestId}/updateOsuContestListingUrl`,{url:this.newOsuContestListingUrl},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"Updated osu! contest listing url",type:"info"}),this.$store.commit("updateOsuContestListingUrl",{contestId:this.contestId,osuContestListingUrl:e}))},async updateResultsUrl(t){const e=await this.$http.executePost(`/contests/listing/${this.contestId}/updateResultsUrl`,{url:this.newResultsUrl},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"Updated results url",type:"info"}),this.$store.commit("updateResultsUrl",{contestId:this.contestId,resultsUrl:e}))},async updateBannerUrl(t){const e=await this.$http.executePost(`/contests/listing/${this.contestId}/updateBannerUrl`,{url:this.newBannerUrl},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"Updated banner url",type:"info"}),this.$store.commit("updateBannerUrl",{contestId:this.contestId,bannerUrl:e}))}}}),pe={class:"row"},me={class:"col-sm-6"},he={class:"form-inline w-100"},ge={class:"col-sm-6"},fe={class:"form-inline w-100"},$e={key:0,class:"small text-danger"},ye=s("a",{href:"https://osu.ppy.sh/community/contests/",target:"_blank"},"hosted officially on osu!",-1),be={class:"col-sm-6"},_e={class:"form-inline w-100"},ve={class:"col-sm-6"},Ce={class:"form-inline w-100"};function we(t,e,o,d,p,m){return n(),i("div",pe,[s("div",me,[s("div",he,[l(" Contest details URL: "),I(s("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>t.newUrl=r),class:"ml-1 form-control",onChange:e[1]||(e[1]=r=>t.updateUrl(r))},null,544),[[k,t.newUrl]])])]),s("div",ge,[s("div",fe,[l(" osu! contest listing URL: "),t.newOsuContestListingUrl&&!t.newOsuContestListingUrl.includes("https://osu.ppy.sh/community/contests/")?(n(),i("div",$e,[l(" Not saved. Only use this if your contest is "),ye,l(". ")])):_("",!0),I(s("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>t.newOsuContestListingUrl=r),class:"ml-1 form-control",onChange:e[3]||(e[3]=r=>t.updateOsuContestListingUrl(r))},null,544),[[k,t.newOsuContestListingUrl]])])]),s("div",be,[s("div",_e,[l(" Results URL: "),I(s("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>t.newResultsUrl=r),class:"ml-1 form-control",onChange:e[5]||(e[5]=r=>t.updateResultsUrl(r))},null,544),[[k,t.newResultsUrl]])])]),s("div",ve,[s("div",Ce,[l(" Banner URL: "),I(s("input",{"onUpdate:modelValue":e[6]||(e[6]=r=>t.newBannerUrl=r),class:"ml-1 form-control",onChange:e[7]||(e[7]=r=>t.updateBannerUrl(r))},null,544),[[k,t.newBannerUrl]])])])])}const Ie=C(ce,[["render",we]]),Se=v({name:"Description",props:{contestId:{type:String,required:!0},description:{type:String,default:null}},data(){return{newDescription:this.description}},watch:{contestId(){this.newDescription=this.description}},methods:{async updateDescription(t){const e=await this.$http.executePost(`/contests/listing/${this.contestId}/updateDescription`,{description:this.newDescription},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"Updated contest description",type:"info"}),this.$store.commit("updateDescription",{contestId:this.contestId,description:e}))}}}),ke={class:"form-inline w-100 mt-2"},Ue=s("div",null,"Contest description",-1),Me=s("small",{class:"text-secondary"},[l("Click outside the text box to save. Also, this section supports "),s("a",{href:"https://www.markdownguide.org/cheat-sheet/",target:"_blank"},"markdown"),l("!")],-1),je=s("div",{class:"mt-2"}," Preview description ",-1),Ae=["innerHTML"];function Te(t,e,o,d,p,m){return n(),i("div",ke,[Ue,I(s("textarea",{"onUpdate:modelValue":e[0]||(e[0]=r=>t.newDescription=r),length:"4",class:"ml-1 form-control",placeholder:"click outside the box to save...",maxlength:"40000",rows:"6",onChange:e[1]||(e[1]=r=>t.updateDescription(r))},null,544),[[k,t.newDescription]]),Me,t.newDescription?(n(),i(y,{key:0},[je,s("div",null,[s("div",{class:"small bg-dark pt-3 pb-1 px-3 mb-2 rounded",innerHTML:t.$md.render(t.newDescription.trim())},null,8,Ae)])],64)):_("",!0)])}const De=C(Se,[["render",Te]]),Je=v({name:"ManualSubmission",props:{contestId:{type:String,required:!0}},data(){return{usernameInput:null,anonymizedNameInput:null,urlInput:null}},methods:{async addSubmission(t){const e=await this.$http.executePost(`/contests/listing/${this.contestId}/manuallyAddSubmission`,{username:this.usernameInput,anonymizedName:this.anonymizedNameInput,url:this.urlInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"Added submission",type:"info"}),this.$store.commit("addSubmission",{contestId:this.contestId,submission:e}))}}}),Ee={class:"input-group"},Ve={class:"input-group-append"},Ne=s("i",{class:"fas fa-plus fa-xs"},null,-1),Be=s("small",{class:"text-secondary"},"If you receive a late submission, you can manually add it to the list with this small form.",-1),Re=s("hr",null,null,-1);function qe(t,e,o,d,p,m){return n(),i("div",null,[s("div",Ee,[I(s("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>t.usernameInput=r),type:"text",class:"form-control",placeholder:"username..."},null,512),[[k,t.usernameInput]]),I(s("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>t.anonymizedNameInput=r),type:"text",class:"form-control",placeholder:"anonymized name..."},null,512),[[k,t.anonymizedNameInput]]),I(s("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>t.urlInput=r),type:"text",class:"form-control",placeholder:"url...",onKeyup:e[3]||(e[3]=M(r=>t.addSubmission(r),["enter"]))},null,544),[[k,t.urlInput]]),s("div",Ve,[s("button",{class:"btn btn-primary",href:"#",onClick:e[4]||(e[4]=r=>t.addSubmission(r))},[l(" Add submission "),Ne])])]),Be,Re])}const Le=C(Je,[["render",qe]]),Fe=v({name:"SubmissionsInfo",components:{ManualSubmission:Le},props:{contestId:{type:String,required:!0},submissions:{type:Array,required:!0},osuContestListingUrl:{type:String,default:""}},data(){return{name:"",creatorOsuId:"",confirmDelete:null,processingDelete:!1,manualAnonEdit:null,newAnonymousName:"",csvInput:""}},watch:{manualAnonEdit(){this.findAnonymousSubmissionName()}},methods:{async addSubmissionsFromCsv(t){const e=await this.$http.executePost(`/contests/listing/${this.contestId}/submissions/addSubmissionsFromCsv`,{csv:this.csvInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"Added entries from .csv data",type:"info"}),this.$store.commit("addSubmissionsFromCsv",{contestId:this.contestId,submissions:e}))},async addJudgingsFromCsv(t){const e=await this.$http.executePost(`/contests/listing/${this.contestId}/addJudgingsFromCsv`,{csv:this.csvInput},t);this.$http.isError(e)||this.$store.dispatch("updateToastMessages",{message:"Added judgings from .csv data",type:"info"})},findAnonymousSubmissionName(){const t=this.submissions.find(e=>e.id==this.manualAnonEdit);t&&(this.newAnonymousName=t.name)},async updateAnonymousSubmissionName(t,e){const o=await this.$http.executePost(`/contests/listing/${this.contestId}/submissions/${t}/updateAnonymousSubmissionName`,{name:this.newAnonymousName},e);this.$http.isError(o)||(this.$store.dispatch("updateToastMessages",{message:"Updated anonymous submission name",type:"info"}),this.$store.commit("updateAnonymousSubmissionName",{contestId:this.contestId,submissionId:t,name:o}))},async deleteSubmission(t,e){this.processingDelete=!0;const o=await this.$http.executePost(`/contests/listing/${this.contestId}/submissions/${t}/delete`,{},e);this.processingDelete=!1,this.$http.isError(o)||(this.$store.dispatch("updateToastMessages",{message:"Deleted submission",type:"info"}),this.$store.commit("deleteSubmission",{contestId:this.contestId,submissionId:t}))}}}),Pe={key:0},ze=s("span",{class:"small text-secondary"},[l("If your contest uses the osu! contest listing, follow the anonymization guide below and paste your "),s("code",null,".csv"),l(" output here as raw text to add submissions:")],-1),Oe={class:"row"},Ge={class:"col-sm-10"},He={class:"col-sm-2"},Ke={key:1,class:"table table-sm table-responsive-lg"},Xe=s("thead",null,[s("tr",null,[s("th",null,"Creator"),s("th",null,"Anonymized name"),s("th",null,"Link"),s("th")])],-1),Ye=["onChange"],Qe={key:1,class:"me-1"},We=["onClick"],Ze=s("i",{class:"fas fa-edit"},null,-1),xe=[Ze],ts=["href"],es=["onClick"],ss=["onClick"];function ns(t,e,o,d,p,m){const r=g("user-link"),u=g("manual-submission");return n(),i("div",null,[!t.submissions.length&&t.osuContestListingUrl?(n(),i("div",Pe,[ze,s("div",Oe,[s("div",Ge,[I(s("textarea",{"onUpdate:modelValue":e[0]||(e[0]=a=>t.csvInput=a),class:"form-control form-inline",rows:"1"},null,512),[[k,t.csvInput]])]),s("div",He,[s("button",{type:"button",class:"btn btn-sm btn-outline-info mt-1 mx-1",onClick:e[1]||(e[1]=a=>t.addSubmissionsFromCsv(a))}," Save ")])])])):_("",!0),t.submissions.length?(n(),i("table",Ke,[Xe,s("tbody",null,[(n(!0),i(y,null,b(t.submissions,a=>(n(),i("tr",{key:a.id},[s("td",null,[f(r,{user:a.creator},null,8,["user"])]),s("td",{class:w(a.name?"":"text-danger")},[t.manualAnonEdit==a.id?I((n(),i("input",{key:0,"onUpdate:modelValue":e[2]||(e[2]=S=>t.newAnonymousName=S),class:"ml-1 form-control form-control-sm",onChange:S=>t.updateAnonymousSubmissionName(a.id,S)},null,40,Ye)),[[k,t.newAnonymousName]]):(n(),i("span",Qe,c(a.name||"TBD"),1)),s("a",{href:"#",onClick:$(S=>t.manualAnonEdit==a.id?t.manualAnonEdit=null:t.manualAnonEdit=a.id,["prevent"])},xe,8,We)],2),s("td",null,[s("a",{href:a.url,target:"_blank"},c(a.url),9,ts)]),s("td",null,[t.confirmDelete!=a.id?(n(),i("a",{key:0,href:"#",class:"text-danger",onClick:$(S=>t.confirmDelete=a.id,["prevent"])}," delete ",8,es)):(n(),i("a",{key:1,class:w(t.processingDelete?"text-secondary disabled":"text-danger"),href:"#",onClick:$(S=>t.deleteSubmission(a.id,S),["prevent"])}," confirm ",10,ss))])]))),128))])])):_("",!0),t.submissions.length?(n(),U(u,{key:2,"contest-id":t.contestId},null,8,["contest-id"])):_("",!0)])}const os=C(Fe,[["render",ns]]),is=v({name:"DownloadInfo",props:{contestId:{type:String,required:!0},download:{type:String,default:null}},data(){return{newDownload:this.download}},watch:{contestId(){this.newDownload=this.download}},methods:{async updateDownload(t){const e=await this.$http.executePost(`/contests/listing/${this.contestId}/updateDownload`,{download:this.newDownload},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"Updated contest submissions download link",type:"info"}),this.$store.commit("updateDownload",{contestId:this.contestId,download:e}))}}});const rs={class:"row"},ds={class:"col-sm-6"},as={key:0,class:"me-2 text-secondary"},ls={class:"col-sm-6 small text-secondary"},us=["href"];function cs(t,e,o,d,p,m){return n(),i("div",rs,[s("div",ds,[l(" Download: "),t.download?_("",!0):(n(),i("span",as,"No download")),I(s("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>t.newDownload=r),class:"form-control form-control-sm w-100 d-inline",type:"text",autocomplete:"off",placeholder:"link...",onChange:e[1]||(e[1]=r=>t.updateDownload(r))},null,544),[[k,t.newDownload]])]),s("div",ls,[l(" This link will appear at the top of judging/screening pages for users to download beatmaps. For contest integrity, user data should be removed as explained in the anonymization guide below. "),t.download?(n(),i("a",{key:0,href:t.download,target:"_blank"},"Test the link here!",8,us)):_("",!0)])])}const ps=C(is,[["render",cs],["__scopeId","data-v-10488695"]]),ms=v({name:"ScreenersInfo",props:{contestId:{type:String,required:!0},screeners:{type:Array,required:!0}},data(){return{screenerInput:null,confirmDelete:null}},watch:{contestId(){this.screenerInput=null,this.screenerInput=null}},methods:{async addScreener(t){const e=await this.$http.executePost(`/contests/listing/${this.contestId}/screeners/add`,{screenerInput:this.screenerInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:`Added ${this.screenerInput} to list (${this.screeners.length+1})`,type:"info"}),this.$store.commit("addScreener",{contestId:this.contestId,screener:e}))},async removeScreener(t,e){const o=await this.$http.executePost(`/contests/listing/${this.contestId}/screeners/remove`,{screenerId:t},e);this.$http.isError(o)||(this.$store.dispatch("updateToastMessages",{message:"Removed user from list",type:"info"}),this.$store.commit("deleteScreener",{contestId:this.contestId,screenerId:t}))}}}),hs={class:"input-group mb-2"},gs={class:"input-group-append"},fs=s("i",{class:"fas fa-plus fa-xs"},null,-1),$s=[fs],ys={key:0},bs=["onClick"],_s=["onClick"],vs={key:1,class:"text-secondary m-4"};function Cs(t,e,o,d,p,m){const r=g("user-link");return n(),i("div",null,[s("div",hs,[I(s("input",{"onUpdate:modelValue":e[0]||(e[0]=u=>t.screenerInput=u),class:"form-control form-control-sm",autocomplete:"off",placeholder:"new screener username/osuId...",onKeyup:e[1]||(e[1]=M(u=>t.addScreener(u),["enter"]))},null,544),[[k,t.screenerInput,void 0,{number:!0}]]),s("div",gs,[s("button",{class:"btn btn-primary",href:"#",onClick:e[2]||(e[2]=$(u=>t.addScreener(u),["prevent"]))},$s)])]),t.screeners.length?(n(),i("ol",ys,[(n(!0),i(y,null,b(t.screeners,u=>(n(),i("li",{key:u.id},[f(r,{user:u},null,8,["user"]),t.confirmDelete!=u.id?(n(),i("a",{key:0,href:"#",class:"text-danger",onClick:$(a=>t.confirmDelete=u.id,["prevent"])}," delete ",8,bs)):(n(),i("a",{key:1,class:"text-danger",href:"#",onClick:$(a=>t.removeScreener(u.id,a),["prevent"])}," confirm ",8,_s))]))),128))])):(n(),i("div",vs," None... "))])}const ws=C(ms,[["render",Cs]]),Is=v({name:"ScreeningStatus",props:{contest:{type:Object,required:!0}},methods:{findScreenerDetails(t){let e=0,o=[];for(const m of this.contest.submissions)for(const r of m.screenings)r.screener.id==t.id&&r.vote&&(e++,o.push(r.vote));const d=[],p=[];for(let m=0;m<this.contest.screeningVoteCount;m++)p.push(m+1);for(const m of p)o.includes(m)||d.push(m);return{count:e,unusedVotes:d}}}}),Ss={class:"table table-sm table-responsive-lg small"},ks=s("thead",null,[s("tr",null,[s("th",null,"Screener"),s("th",null,"Count"),s("th",null,"Unused ratings")])],-1),Us={class:"mx-1"};function Ms(t,e,o,d,p,m){const r=g("user-link");return n(),i("div",null,[s("table",Ss,[ks,s("tbody",null,[(n(!0),i(y,null,b(t.contest.screeners,u=>(n(),i("tr",{key:u.id},[s("td",null,[f(r,{user:u},null,8,["user"])]),s("td",{class:w(t.findScreenerDetails(u).count==t.contest.screeningVoteCount?"text-success":"text-danger")},c(t.findScreenerDetails(u).count)+"/"+c(t.contest.screeningVoteCount),3),s("td",null,[(n(!0),i(y,null,b(t.findScreenerDetails(u).unusedVotes,a=>(n(),i("span",{key:a},[s("span",Us,[(n(!0),i(y,null,b(a,S=>(n(),i("i",{key:S,class:"fa-star fas text-warning small"}))),128)),l(" ("+c(a)+") ",1)])]))),128))])]))),128))])])])}const js=C(Is,[["render",Ms]]),As=v({name:"JudgesInfo",props:{contestId:{type:String,required:!0},judges:{type:Array,required:!0}},data(){return{judgeInput:null,confirmDelete:null}},watch:{contestId(){this.judgeInput=null,this.confirmDelete=null}},methods:{async addJudge(t){const e=await this.$http.executePost(`/contests/listing/${this.contestId}/judges/add`,{judgeInput:this.judgeInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:`Added ${this.judgeInput} to list (${this.judges.length+1})`,type:"info"}),this.$store.commit("addJudge",{contestId:this.contestId,judge:e}))},async removeJudge(t,e){const o=await this.$http.executePost(`/contests/listing/${this.contestId}/judges/remove`,{judgeId:t},e);this.$http.isError(o)||(this.$store.dispatch("updateToastMessages",{message:"Removed user from list",type:"info"}),this.$store.commit("deleteJudge",{contestId:this.contestId,judgeId:t}))}}}),Ts={class:"input-group mb-2"},Ds={class:"input-group-append"},Js=s("i",{class:"fas fa-plus fa-xs"},null,-1),Es=[Js],Vs={key:0},Ns=["onClick"],Bs=["onClick"],Rs={key:1,class:"text-secondary m-4"};function qs(t,e,o,d,p,m){const r=g("user-link");return n(),i("div",null,[s("div",Ts,[I(s("input",{"onUpdate:modelValue":e[0]||(e[0]=u=>t.judgeInput=u),class:"form-control form-control-sm",autocomplete:"off",placeholder:"new judge username/osuId...",onKeyup:e[1]||(e[1]=M(u=>t.addJudge(u),["enter"]))},null,544),[[k,t.judgeInput,void 0,{number:!0}]]),s("div",Ds,[s("button",{class:"btn btn-primary",href:"#",onClick:e[2]||(e[2]=$(u=>t.addJudge(u),["prevent"]))},Es)])]),t.judges.length?(n(),i("ul",Vs,[(n(!0),i(y,null,b(t.judges,u=>(n(),i("li",{key:u.id},[f(r,{user:u},null,8,["user"]),t.confirmDelete!=u.id?(n(),i("a",{key:0,href:"#",class:"text-danger",onClick:$(a=>t.confirmDelete=u.id,["prevent"])}," delete ",8,Ns)):(n(),i("a",{key:1,class:"text-danger",href:"#",onClick:$(a=>t.removeJudge(u.id,a),["prevent"])}," confirm ",8,Bs))]))),128))])):(n(),i("div",Rs," None... "))])}const Ls=C(As,[["render",qs]]),Fs=v({name:"MarkdownUserList",components:{CopyPaste:L},props:{users:{type:Array,default:()=>[]}}});const J=t=>(T("data-v-865ddd8e"),t=t(),D(),t),Ps=J(()=>s("br",null,null,-1)),zs=J(()=>s("br",null,null,-1)),Os=J(()=>s("br",null,null,-1)),Gs=J(()=>s("br",null,null,-1)),Hs=J(()=>s("br",null,null,-1));function Ks(t,e,o,d,p,m){const r=g("copy-paste");return n(),U(r,{class:"tiny"},{default:A(()=>[l(" Comma separation: "),Ps,(n(!0),i(y,null,b(t.users,(u,a)=>(n(),i("span",{key:u.id}," ["+c(u.username)+"](https://osu.ppy.sh/users/"+c(u.osuId)+")"+c(a===t.users.length-2?", and ":a===t.users.length-1?"":", "),1))),128)),zs,Os,l(" Newline separation: "),Gs,(n(!0),i(y,null,b(t.users,u=>(n(),i("span",{key:u.id},[l(" ["+c(u.username)+"](https://osu.ppy.sh/users/"+c(u.osuId)+")",1),Hs]))),128))]),_:1})}const Xs=C(Fs,[["render",Ks],["__scopeId","data-v-865ddd8e"]]),Ys=v({name:"ScreeningDetail",props:{screenings:{type:Array,required:!0},screeners:{type:Array,default(){return[]}}},methods:{findComment(t){const e=this.screenings.find(o=>o.screener.id==t);return e?e.comment:"No comment"},findVote(t){const e=this.screenings.find(o=>o.screener.id==t);return e?e.vote:0}}}),Qs={class:"ms-4 small"},Ws={class:"ms-4 small text-secondary"};function Zs(t,e,o,d,p,m){const r=g("user-link");return n(),i("div",Qs,[(n(!0),i(y,null,b(t.screeners,u=>(n(),i("div",{key:u.id},[f(r,{user:u},null,8,["user"]),(n(!0),i(y,null,b(t.findVote(u.id),a=>(n(),i("i",{key:a,class:"fa-star fas mx-1 text-warning small"}))),128)),s("div",Ws,c(t.findComment(u.id)),1)]))),128))])}const xs=C(Ys,[["render",Zs]]),tn=v({name:"ScreeningResults",components:{ScreeningDetail:xs},props:{contestId:{type:String,required:!0},contestName:{type:String,required:!0},judgingThreshold:{type:Number,default:0},screeningBonus:{type:Boolean,default:!1},submissions:{type:Array,required:!0},screeners:{type:Array,default(){return[]}}},data(){return{newJudgingThreshold:this.judgingThreshold}},computed:{sortedSubmissions(){const t=JSON.parse(JSON.stringify(this.submissions));for(let e=0;e<t.length;e++){const d=t[e].screenings.reduce((p,m)=>m.vote?this.screeningBonus?p+m.vote+1:p+m.vote:p,0);t[e].total=d}return t.sort((e,o)=>e.total>o.total?-1:o.total>e.total?1:0),t}}});const z=t=>(T("data-v-ff8d294c"),t=t(),D(),t),en={class:"d-flex justify-content-between"},sn=["href"],nn={class:"text-warning"},on=z(()=>s("i",{class:"fa-star fas small"},null,-1)),rn=z(()=>s("i",{class:"fas fa-angle-down"},null,-1)),dn=["id"];function an(t,e,o,d,p,m){const r=g("screening-detail");return n(),i("div",null,[s("ul",null,[(n(!0),i(y,null,b(t.sortedSubmissions,u=>(n(),i("li",{key:u.id},[s("div",en,[s("a",{class:w(u.total>=t.judgingThreshold?"pass-threshold":""),"data-bs-toggle":"collapse",href:`#collapse-${u.id}`},[s("span",nn,[l(c(u.total)+" ",1),on]),l(" - "+c(u.creator.username)+" ("+c(u.name)+") ",1),rn],10,sn)]),s("div",{id:`collapse-${u.id}`,class:"collapse"},[s("div",null,[f(r,{screenings:u.screenings,screeners:t.screeners},null,8,["screenings","screeners"])])],8,dn)]))),128))])])}const ln=C(tn,[["render",an],["__scopeId","data-v-ff8d294c"]]),un=v({name:"JudgingThreshold",props:{contestId:{type:String,required:!0},judgingThreshold:{type:Number,default:0}},data(){return{newJudgingThreshold:this.judgingThreshold}},watch:{contestId(){this.newJudgingThreshold=this.judgingThreshold}},methods:{async updateJudgingThreshold(t){const e=await this.$http.executePost(`/contests/listing/${this.contestId}/updateJudgingThreshold`,{judgingThreshold:this.newJudgingThreshold},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:`Updated judging threshold to ${e}`,type:"info"}),this.$store.commit("updateJudgingThreshold",{contestId:this.contestId,judgingThreshold:e}))}}}),cn={class:"row"},pn={class:"input-group col-sm-4"},mn={class:"input-group-append"},hn=s("i",{class:"fa-star fas small"},null,-1);function gn(t,e,o,d,p,m){return n(),i("div",cn,[s("div",pn,[I(s("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>t.newJudgingThreshold=r),class:"form-control form-control-sm",autocomplete:"off",type:"number",placeholder:"judging threshold",onKeyup:e[1]||(e[1]=M(r=>t.updateJudgingThreshold(r),["enter"]))},null,544),[[k,t.newJudgingThreshold,void 0,{number:!0}]]),s("div",mn,[s("button",{class:"btn btn-primary",href:"#",onClick:e[2]||(e[2]=$(r=>t.updateJudgingThreshold(r),["prevent"]))},[l(" save "),hn])])])])}const fn=C(un,[["render",gn]]),$n=v({name:"ScreeningVoteCount",props:{contestId:{type:String,required:!0},screeningVoteCount:{type:Number,default:0}},data(){return{newScreeningVoteCount:this.screeningVoteCount}},watch:{contestId(){this.newScreeningVoteCount=this.screeningVoteCount}},methods:{async updateScreeningVoteCount(t){const e=await this.$http.executePost(`/contests/listing/${this.contestId}/updateScreeningVoteCount`,{screeningVoteCount:this.newScreeningVoteCount},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:`Updated screening vote count to ${e}`,type:"info"}),this.$store.commit("updateScreeningVoteCount",{contestId:this.contestId,screeningVoteCount:e}))}}}),yn={class:"row"},bn={class:"input-group col-sm-4"},_n={class:"input-group-append"};function vn(t,e,o,d,p,m){return n(),i("div",yn,[s("div",bn,[I(s("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>t.newScreeningVoteCount=r),class:"form-control form-control-sm",autocomplete:"off",type:"number",placeholder:"screening vote count",onKeyup:e[1]||(e[1]=M(r=>t.updateScreeningVoteCount(r),["enter"]))},null,544),[[k,t.newScreeningVoteCount,void 0,{number:!0}]]),s("div",_n,[s("button",{class:"btn btn-primary",href:"#",onClick:e[2]||(e[2]=$(r=>t.updateScreeningVoteCount(r),["prevent"]))}," save ")])])])}const Cn=C($n,[["render",vn]]),wn=v({name:"CriteriaSelection",props:{contestId:{type:String,required:!0},criterias:{type:Array,required:!0}},data(){return{nameInput:null,maxScoreInput:null,processingDelete:!1,confirmDelete:null}},computed:{scoredCriteria(){return this.criterias.filter(t=>t.name!=="comments")},commentsEnabled(){return this.criterias.some(t=>t.name=="comments")}},watch:{contestId(){this.nameInput=null,this.maxScoreInput=null,this.confirmDelete=null}},methods:{async addCriteria(t){const e=await this.$http.executePost(`/contests/listing/${this.contestId}/addCriteria`,{name:this.nameInput,maxScore:this.maxScoreInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"Added criteria",type:"info"}),this.$store.commit("updateContestCriterias",{contestId:this.contestId,criterias:e}))},async deleteCriteria(t,e){const o=await this.$http.executePost(`/contests/listing/${this.contestId}/deleteCriteria`,{criteriaId:t},e);this.$http.isError(o)||(this.$store.dispatch("updateToastMessages",{message:"Deleted criteria",type:"info"}),this.$store.commit("updateContestCriterias",{contestId:this.contestId,criterias:o}))},async toggleComments(){const t=await this.$http.executePost(`/contests/listing/${this.contestId}/toggleComments`,{});this.$http.isError(t)||(this.$store.dispatch("updateToastMessages",{message:"Toggled comments",type:"info"}),this.$store.commit("updateContestCriterias",{contestId:this.contestId,criterias:t}))}}}),In={class:"input-group w-75 mb-2"},Sn={class:"input-group-append"},kn=s("i",{class:"fas fa-plus fa-xs"},null,-1),Un={class:"ms-2 mb-2"},Mn=s("i",{class:"fas fa-angle-down"},null,-1),jn={id:"judgingCriteria",class:"collapse mx-2"},An={key:0,class:"table table-sm table-responsive-lg"},Tn=s("thead",null,[s("tr",null,[s("th",null,"Criteria"),s("th",null,"Max score"),s("th",null,"Delete")])],-1),Dn={class:"text-capitalize"},Jn=["onClick"],En=["onClick"],Vn={key:1};function Nn(t,e,o,d,p,m){return n(),i("div",null,[s("div",In,[I(s("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>t.nameInput=r),type:"text",class:"form-control",placeholder:"criteria name..."},null,512),[[k,t.nameInput]]),I(s("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>t.maxScoreInput=r),type:"number",class:"form-control",placeholder:"total points..."},null,512),[[k,t.maxScoreInput]]),s("div",Sn,[s("button",{class:"btn btn-primary",href:"#",onClick:e[2]||(e[2]=r=>t.addCriteria(r))},[l(" Add criteria "),kn])])]),s("div",Un,[s("a",{href:"#judgingCriteria","data-bs-toggle":"collapse",onClick:e[3]||(e[3]=$(()=>{},["prevent"]))},[l(" See judging criteria "),Mn]),s("div",jn,[t.criterias.length?(n(),i("table",An,[Tn,s("tbody",null,[(n(!0),i(y,null,b(t.scoredCriteria,r=>(n(),i("tr",{key:r.id},[s("td",Dn,c(r.name),1),s("td",null,c(r.maxScore),1),s("td",null,[t.confirmDelete!=r.id?(n(),i("a",{key:0,href:"#",class:"text-danger",onClick:$(u=>t.confirmDelete=r.id,["prevent"])}," delete ",8,Jn)):(n(),i("a",{key:1,class:w(t.processingDelete?"text-secondary disabled":"text-danger"),href:"#",onClick:$(u=>t.deleteCriteria(r.id,u),["prevent"])}," confirm ",10,En))])]))),128)),s("tr",null,[s("td",{class:w(t.commentsEnabled?"":"text-secondary")}," Comments "+c(t.commentsEnabled?"":"(disabled)"),3),s("td",{class:w(t.commentsEnabled?"":"text-secondary")}," N/A ",2),s("td",null,[s("a",{href:"#",class:"text-danger",onClick:e[4]||(e[4]=$(r=>t.toggleComments(),["prevent"]))},c(t.commentsEnabled?"disable":"enable"),1)])])])])):(n(),i("div",Vn," No criteria yet... "))])])])}const Bn=C(wn,[["render",Nn]]),Rn=v({name:"JudgingLeaderboard",components:{CopyPaste:L},props:{contest:{type:Object,required:!0},usersScores:{type:Array,required:!0},judgesCorrel:{type:Array,required:!0}},data(){return{selectedScore:null,displayMode:"criterias",sortDesc:!1}},computed:{scoreDetail(){if(this.selectedScore)return this.contest.submissions.find(t=>{var e;return t.creator.id==((e=this.selectedScore)==null?void 0:e.creator.id)})},scoredCriteria(){return this.contest.criterias.filter(t=>t.name!=="comments")},judges(){return this.contest.judges}},methods:{getCriteriaScore(t,e){var o;return((o=t.criteriaSum.find(d=>d.criteriaId===e))==null?void 0:o.sum)||0},getJudgeScore(t,e,o=!1){const d=t.judgingSum.find(m=>m.judgeId===e),p=(d==null?void 0:d.standardized)||0;return o?`${(d==null?void 0:d.sum)||0} (${p.toFixed(3)})`:(d==null?void 0:d.sum)||0},getJudgeAvg(t){var e;return((e=this.judgesCorrel.find(o=>o.id===t))==null?void 0:e.rawAvg.toFixed(4))||0},getJudgeSd(t){var e;return((e=this.judgesCorrel.find(o=>o.id===t))==null?void 0:e.sd.toFixed(4))||0},getJudgeCorrel(t){var o;return(((o=this.judgesCorrel.find(d=>d.id===t))==null?void 0:o.correl)||0).toFixed(4)},getFinalScore(t){return isNaN(t)?"0":t.toFixed(4)},sortByCriteria(t){this.sortDesc=!this.sortDesc,this.$store.commit("sortByCriteria",{criteriaId:t,sortDesc:this.sortDesc})},sortByJudge(t){this.sortDesc=!this.sortDesc,this.$store.commit("sortByJudge",{judgeId:t,sortDesc:this.sortDesc})},sortByRawScore(){this.sortDesc=!this.sortDesc,this.$store.commit("sortByRawScore",{sortDesc:this.sortDesc})},sortByStdScore(){this.sortDesc=!this.sortDesc,this.$store.commit("sortByStdScore",{sortDesc:this.sortDesc})},findCriteriaName(t,e){switch(t){case"musical representation":return`Musical rep. (${e*this.contest.judges.length})`;default:return`${t} (${e*this.contest.judges.length})`}},getAnonymousName(t){const e=this.contest.submissions.find(o=>o.creator.id==t.id);return(e==null?void 0:e.name)||"none"}}}),qn={class:"row"},Ln={class:"col-sm"},Fn={class:"row"},Pn={class:"col-sm"},zn={class:"table table-sm small table-responsive-lg"},On=s("th",null,"#",-1),Gn=s("th",null,"User",-1),Hn=["onClick"],Kn={class:"small"},Xn={class:"cursor-default"},Yn=s("td",null,null,-1),Qn=s("td",null,"AVG",-1),Wn=s("td",null,null,-1),Zn=s("td",null,null,-1),xn={class:"cursor-default"},to=s("td",null,null,-1),eo=s("td",null,"SD",-1),so=s("td",null,null,-1),no=s("td",null,null,-1),oo={class:"cursor-default"},io=s("td",null,null,-1),ro=s("td",null,"COR",-1),ao=s("td",null,null,-1),lo=s("td",null,null,-1),uo=s("div",null,"Spreadsheet",-1),co=s("div",{class:"small text-secondary"},[s("ol",null,[s("li",null," Copy/paste the text below into a text editor "),s("li",null,[l(" Save the file with a "),s("code",null,".csv"),l(" extension ")]),s("li",null," Import the file to Google Drive or Excel for an automatically formatted spreadsheet ")])],-1),po={key:0},mo={class:"text-capitalize"},ho={key:1},go={key:2},fo={key:0},$o={key:1},yo={key:2},bo=s("div",null,"Markdown",-1),_o=s("div",{class:"small text-secondary"},[l(" Copy/paste this into any "),s("code",null,".md"),l(" file ")],-1),vo={key:0},Co={class:"text-capitalize"},wo={key:1},Io={key:2},So={key:3},ko={key:0},Uo={key:1},Mo={key:0},jo={key:1},Ao={key:2},To={key:3};function Do(t,e,o,d,p,m){const r=g("user-link"),u=g("copy-paste");return n(),i("div",null,[s("div",qn,[s("div",Ln,[l(" Score display: "),s("a",{href:"#",class:w(t.displayMode==="criterias"?"border-bottom border-secondary":""),onClick:e[0]||(e[0]=$(a=>t.displayMode="criterias",["prevent"]))}," Criteria ",2),l(" | "),s("a",{href:"#",class:w(t.displayMode==="judges"?"border-bottom border-secondary":""),onClick:e[1]||(e[1]=$(a=>t.displayMode="judges",["prevent"]))}," Judge ",2),l(" | "),s("a",{href:"#",class:w(t.displayMode==="detail"?"border-bottom border-secondary":""),onClick:e[2]||(e[2]=$(a=>t.displayMode="detail",["prevent"]))}," Judge (SD) ",2)])]),s("div",Fn,[s("div",Pn,[s("table",zn,[s("thead",null,[s("tr",null,[On,Gn,t.displayMode==="criterias"?(n(!0),i(y,{key:0},b(t.scoredCriteria,a=>(n(),i("th",{key:a.id},c(t.findCriteriaName(a.name,a.maxScore)),1))),128)):(n(!0),i(y,{key:1},b(t.judges,a=>(n(),i("th",{key:a.id},c(a.username),1))),128)),s("th",null,[s("a",{href:"#",onClick:e[3]||(e[3]=$((...a)=>t.sortByRawScore&&t.sortByRawScore(...a),["prevent"]))}," Final Score (raw) ")]),s("th",null,[s("a",{href:"#",onClick:e[4]||(e[4]=$((...a)=>t.sortByStdScore&&t.sortByStdScore(...a),["prevent"]))}," Final Score (standardized) ")])])]),s("tbody",null,[(n(!0),i(y,null,b(t.usersScores,(a,S)=>(n(),i("tr",{key:S,"data-bs-toggle":"modal","data-bs-target":"#detailModal",onClick:h=>t.selectedScore=a},[s("td",null,c(S+1),1),s("td",null,[f(r,{user:a.creator},null,8,["user"]),l(),s("span",Kn,"("+c(t.getAnonymousName(a.creator))+")",1)]),t.displayMode==="criterias"?(n(!0),i(y,{key:0},b(t.scoredCriteria,h=>(n(),i("td",{key:h.id},c(t.getCriteriaScore(a,h.id)),1))),128)):(n(!0),i(y,{key:1},b(t.judges,h=>(n(),i("td",{key:h.id},c(t.getJudgeScore(a,h.id,t.displayMode==="detail")),1))),128)),s("td",null,c(a.rawFinalScore),1),s("td",null,c(t.getFinalScore(a.standardizedFinalScore)),1)],8,Hn))),128)),t.displayMode==="detail"?(n(),i(y,{key:0},[s("tr",Xn,[Yn,Qn,(n(!0),i(y,null,b(t.judges,a=>(n(),i("td",{key:a.id},c(t.getJudgeAvg(a.id)),1))),128)),Wn,Zn]),s("tr",xn,[to,eo,(n(!0),i(y,null,b(t.judges,a=>(n(),i("td",{key:a.id},c(t.getJudgeSd(a.id)),1))),128)),so,no]),s("tr",oo,[io,ro,(n(!0),i(y,null,b(t.judges,a=>(n(),i("td",{key:a.id},c(t.getJudgeCorrel(a.id)),1))),128)),ao,lo])],64)):_("",!0)])])])]),uo,co,f(u,null,{default:A(()=>[s("div",null,[l(" #,User,"),t.displayMode==="criterias"?(n(),i("span",po,[(n(!0),i(y,null,b(t.scoredCriteria,a=>(n(),i("span",{key:a.id},[s("span",mo,c(t.findCriteriaName(a.name,a.maxScore)+","),1)]))),128))])):(n(),i("span",ho,[(n(!0),i(y,null,b(t.judges,a=>(n(),i("span",{key:a.id},c(a.username+","),1))),128))])),l("Final Score"),t.contest.useRawScoring?_("",!0):(n(),i("span",go," (raw),Final Score (standardized)")),l(", ")]),(n(!0),i(y,null,b(t.usersScores,(a,S)=>(n(),i("div",{key:S},[l(c(S+1)+","+c(a.creator.username)+",",1),t.displayMode==="criterias"?(n(),i("span",fo,[(n(!0),i(y,null,b(t.scoredCriteria,h=>(n(),i("span",{key:h.id},c(t.getCriteriaScore(a,h.id)+","),1))),128))])):(n(),i("span",$o,[(n(!0),i(y,null,b(t.judges,h=>(n(),i("span",{key:h.id},c(t.getJudgeScore(a,h.id,t.displayMode==="detail")+","),1))),128))])),l(c(a.rawFinalScore),1),t.contest.useRawScoring?_("",!0):(n(),i("span",yo,","+c(t.getFinalScore(a.standardizedFinalScore)),1)),l(", ")]))),128))]),_:1}),bo,_o,f(u,null,{default:A(()=>[s("div",null,[l(" | Rank | User "),t.displayMode==="criterias"?(n(),i("span",vo,[(n(!0),i(y,null,b(t.scoredCriteria,a=>(n(),i("span",{key:a.id},[l(" | "),s("span",Co,c(t.findCriteriaName(a.name,a.maxScore)),1)]))),128))])):(n(),i("span",wo,[(n(!0),i(y,null,b(t.judges,a=>(n(),i("span",{key:a.id}," | "+c(a.username),1))),128))])),t.contest.useRawScoring?(n(),i("span",Io," | **Final Score** |")):t.contest.useRawScoring?_("",!0):(n(),i("span",So," | [**Final Score**](/wiki/Contests/Monthly_Beatmapping_Contest#judging) |"))]),s("div",null,[l(" | :-- | :-- "),t.displayMode==="criterias"?(n(),i("span",ko,[(n(!0),i(y,null,b(t.scoredCriteria,a=>(n(),i("span",{key:a.id}," | :-- "))),128))])):(n(),i("span",Uo,[(n(!0),i(y,null,b(t.judges,a=>(n(),i("span",{key:a.id}," | :-- "))),128))])),l(" | :-- | ")]),(n(!0),i(y,null,b(t.usersScores,(a,S)=>(n(),i("div",{key:S},[l(" | "+c(S+1)+" | "+c("["+a.creator.username+"](https://osu.ppy.sh/users/"+a.creator.osuId+")")+" ",1),t.displayMode==="criterias"?(n(),i("span",Mo,[(n(!0),i(y,null,b(t.scoredCriteria,h=>(n(),i("span",{key:h.id}," | "+c(t.getCriteriaScore(a,h.id)),1))),128))])):(n(),i("span",jo,[(n(!0),i(y,null,b(t.judges,h=>(n(),i("span",{key:h.id}," | "+c(t.getJudgeScore(a,h.id,t.displayMode==="detail")),1))),128))])),t.contest.useRawScoring?(n(),i("span",Ao," | **"+c(a.rawFinalScore)+"**",1)):t.contest.useRawScoring?_("",!0):(n(),i("span",To," | **"+c(t.getFinalScore(a.standardizedFinalScore))+"**",1)),l(" | ")]))),128))]),_:1})])}const Jo=C(Rn,[["render",Do]]),Eo=v({name:"JudgingDetail",components:{ModalDialog:ht},props:{submission:{type:Object,default:null}},data(){return{commentsExpanded:[]}},computed:{...j(["loggedInUser"])},methods:{showComment(t){const e=this.commentsExpanded.findIndex(o=>o===t);e!==-1?this.commentsExpanded.splice(e,1):this.commentsExpanded.push(t)},getCollapseClass(t){return this.commentsExpanded.includes(t)?"fa-chevron-down":"fa-chevron-right"}}}),Vo={class:"container"},No=["href","onClick"],Bo={key:1,class:"small text-capitalize ms-3"},Ro={key:2,class:"small text-secondary ms-1"},qo=["id"],Lo={class:"small text-secondary",style:{"white-space":"pre-line"}},Fo={key:0};function Po(t,e,o,d,p,m){const r=g("user-link"),u=g("modal-dialog");return n(),U(u,{id:"detailModal",loaded:!!t.submission},{header:A(()=>[l(c(t.submission.creator.username)+" ("+c(t.submission.name)+") ("+c(t.submission.id)+") ",1)]),default:A(()=>[s("div",Vo,[(n(!0),i(y,null,b(t.submission.judgings,(a,S)=>(n(),i("div",{key:a.id},[f(r,{user:a.judge},null,8,["user"]),(n(!0),i(y,null,b(a.judgingScores,h=>(n(),i("div",{key:h.id,class:"my-1"},[h.criteria.name=="comments"?(n(),i("a",{key:0,class:"small fw-bold text-capitalize","data-bs-toggle":"collapse",href:`#judgingToCriteria${h.id}`,onClick:N=>t.showComment(h.id)},[s("i",{class:w(["small fas me-2",t.getCollapseClass(h.id)])},null,2),l(" "+c(h.criteria.name),1)],8,No)):(n(),i("span",Bo,c(h.criteria.name)+" ("+c(h.score)+") ",1)),t.loggedInUser.username=="pishifat"?(n(),i("span",Ro,c(h.id),1)):_("",!0),s("p",{id:`judgingToCriteria${h.id}`,class:"text-light ms-4 collapse"},[s("span",Lo,c(h.comment),1)],8,qo)]))),128)),S<t.submission.judgings.length-1?(n(),i("hr",Fo)):_("",!0)]))),128))])]),_:1},8,["loaded"])}const zo=C(Eo,[["render",Po]]),Oo=v({name:"JudgeStatuses",components:{JudgingDetail:zo},props:{contest:{type:Object,required:!0}},data(){return{selected:null}},computed:{judgeCount(){var t;return((t=this.contest)==null?void 0:t.judges.length)||0}},methods:{getJudgesInvolvedCount(t){return t.judgings.map(o=>o.judge).length},getMissingJudges(t){const e=t.judgings.map(p=>p.judge.id),o=[];for(const p of this.contest.judges)if(!e.includes(p.id))o.push(p);else{const m=t.judgings.find(r=>r.judge.id===p.id);m&&m.judgingScores.length!==this.contest.criterias.length&&o.push(p)}return o.map(p=>p.username).join(", ")},getSubmissionIdByCreatorId(t){var o;return((o=this.contest)==null?void 0:o.submissions.find(d=>d.creator.id===t)).id}}});const Go=t=>(T("data-v-26df8b10"),t=t(),D(),t),Ho={class:"table table-sm table-responsive-lg small"},Ko=Go(()=>s("thead",null,[s("tr",null,[s("th",null,"Submission creator"),s("th",null,"Count"),s("th",null,"Incomplete judges")])],-1)),Xo=["onClick"];function Yo(t,e,o,d,p,m){const r=g("user-link"),u=g("judging-detail");return n(),i("div",null,[s("table",Ho,[Ko,s("tbody",null,[(n(!0),i(y,null,b(t.contest.submissions,a=>(n(),i("tr",{key:a.id,"data-bs-toggle":"modal","data-bs-target":"#detailModalAdmin",class:"modalable",onClick:S=>t.selected=a},[s("td",null,[f(r,{user:a.creator},null,8,["user"])]),s("td",{class:w(t.getJudgesInvolvedCount(a)>=t.judgeCount?"text-success":"text-danger")},c(t.getJudgesInvolvedCount(a))+"/"+c(t.judgeCount),3),s("td",null,c(t.getMissingJudges(a)),1)],8,Xo))),128))])]),f(u,{id:"detailModalAdmin",submission:t.selected},null,8,["submission"])])}const Qo=C(Oo,[["render",Yo],["__scopeId","data-v-26df8b10"]]),Wo=v({name:"JudgingResults",components:{JudgingLeaderboard:Jo,JudgeStatuses:Qo},props:{contestId:{type:String,required:!0}},data(){return{contest:null,selected:null,usersScores:[],judgesCorrel:[]}},computed:{judgeCount(){var t;return((t=this.contest)==null?void 0:t.judges.length)||0}},watch:{async contestId(){await this.getJudgingResults()}},async created(){await this.getJudgingResults()},methods:{async getJudgingResults(){const t=await this.$http.executeGet(`/contests/listing/${this.contestId}/judgingResults`);this.$http.isError(t)||(this.contest=t.contest,this.usersScores=t.usersScores,this.judgesCorrel=t.judgesCorrel)},getJudgesInvolvedCount(t){return t.judgings.map(o=>o.judge).length},getJudgesInvolved(t){return t.judgings.map(o=>o.judge.username).join(", ")},getSubmissionIdByCreatorId(t){var o;return((o=this.contest)==null?void 0:o.submissions.find(d=>d.creator.id===t)).id}}}),Zo={key:0},xo={class:"ms-2 mb-2"},ti=s("i",{class:"fas fa-angle-down"},null,-1),ei={class:"ms-2 mb-2"},si=s("i",{class:"fas fa-angle-down"},null,-1);function ni(t,e,o,d,p,m){const r=g("judge-statuses"),u=g("judging-leaderboard");return t.contest?(n(),i("div",Zo,[s("div",xo,[s("a",{href:"#judgeStatuses","data-bs-toggle":"collapse",onClick:e[0]||(e[0]=$(()=>{},["prevent"]))},[l(" See judging status per submission "),ti]),f(r,{id:"judgeStatuses",class:"collapse mx-2",contest:t.contest},null,8,["contest"])]),s("div",ei,[s("a",{href:"#judgingLeaderboard","data-bs-toggle":"collapse",onClick:e[1]||(e[1]=$(()=>{},["prevent"]))},[l(" See judging leaderboards "),si]),f(u,{id:"judgingLeaderboard",class:"collapse mx-2","contest-id":t.contest.id,contest:t.contest,"users-scores":t.usersScores,"judges-correl":t.judgesCorrel},null,8,["contest-id","contest","users-scores","judges-correl"])])])):_("",!0)}const oi=C(Wo,[["render",ni]]),ii=v({name:"FeaturedArtistContestToggle",props:{contestId:{type:String,required:!0},isFeaturedArtistContest:{type:Boolean,required:!0}},methods:{async toggleIsFeaturedArtistContest(t){const e=await this.$http.executePost(`/contests/listing/${this.contestId}/toggleIsFeaturedArtistContest`,{},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"Updated contest Featured Artist status",type:"info"}),this.$store.commit("updateIsFeaturedArtistContest",{contestId:this.contestId,isFeaturedArtistContest:e}))}}}),ri={class:"form-check mt-2"},di=["checked"],ai=s("label",{class:"form-check-label",for:"isContacted"}," Featured Artist Contest ",-1),li=s("div",{class:"small text-secondary"},[l(" Contests using exclusively Featured Artist songs are eligible for "),s("a",{href:"/faq#rewards",target:"_blank"},"Mappers' Guild points"),l(": "),s("ul",null,[s("li",null," Contest organizer: 5 points "),s("li",null," Contest participant: 3 points "),s("li",null," Contest screener/judge: 1 point ")])],-1);function ui(t,e,o,d,p,m){return n(),i("div",ri,[s("input",{id:"isContacted",checked:t.isFeaturedArtistContest,class:"form-check-input",type:"checkbox",onChange:e[0]||(e[0]=r=>t.toggleIsFeaturedArtistContest(r))},null,40,di),ai,li])}const ci=C(ii,[["render",ui]]),pi=v({name:"UseRawScoringToggle",props:{contestId:{type:String,required:!0},useRawScoring:{type:Boolean,required:!0}},methods:{async toggleUseRawScoring(t){const e=await this.$http.executePost(`/contests/listing/${this.contestId}/toggleUseRawScoring`,{},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"Updated contest scoring method",type:"info"}),this.$store.commit("updateUseRawScoring",{contestId:this.contestId,useRawScoring:e}))}}});const O=t=>(T("data-v-af68d3ad"),t=t(),D(),t),mi={class:"form-check mt-2"},hi=["checked"],gi=O(()=>s("label",{class:"form-check-label",for:"isContacted"}," Raw scoring only ",-1)),fi=O(()=>s("div",{class:"small text-secondary"},[s("div",null,"Contests on Mappers' Guild use this formula standardize results:"),s("div",{class:"ms-4"},[s("code",null,"judge X's final score = (judge X's raw score - judge X's average raw score) / judge X's standard deviation")]),s("div",null,[l("Checking this box will only display "),s("b",null,"raw judging scores"),l(" on the results page (and hide standardized scores).")])],-1));function $i(t,e,o,d,p,m){return n(),i("div",mi,[s("input",{checked:t.useRawScoring,class:"form-check-input",type:"checkbox",onChange:e[0]||(e[0]=r=>t.toggleUseRawScoring(r))},null,40,hi),gi,fi])}const yi=C(pi,[["render",$i],["__scopeId","data-v-af68d3ad"]]),bi=v({name:"ScreeningBonusToggle",props:{contestId:{type:String,required:!0},screeningBonus:{type:Boolean,required:!0}},methods:{async toggleScreeningBonus(t){const e=await this.$http.executePost(`/contests/listing/${this.contestId}/toggleScreeningBonus`,{},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"Toggled screening bonus",type:"info"}),this.$store.commit("updateScreeningBonus",{contestId:this.contestId,screeningBonus:e}))}}});const G=t=>(T("data-v-25de8a02"),t=t(),D(),t),_i={class:"form-check mt-2"},vi=["checked"],Ci=G(()=>s("label",{class:"form-check-label",for:"isContacted"}," Screening bonus ",-1)),wi=G(()=>s("div",{class:"small text-secondary"}," Adds +1 to every screener's votes, devalueing maps that are highly liked by few screeners. Only use this if your contest has a lot of screeners. ",-1));function Ii(t,e,o,d,p,m){return n(),i("div",_i,[s("input",{id:"isContacted",checked:t.screeningBonus,class:"form-check-input",type:"checkbox",onChange:e[0]||(e[0]=r=>t.toggleScreeningBonus(r))},null,40,vi),Ci,wi])}const Si=C(bi,[["render",Ii],["__scopeId","data-v-25de8a02"]]),ki=v({name:"PublicJudgesToggle",props:{contestId:{type:String,required:!0},hasPublicJudges:{type:Boolean,required:!0}},methods:{async toggleHasPublicJudges(t){const e=await this.$http.executePost(`/contests/listing/${this.contestId}/toggleHasPublicJudges`,{},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"Updated contest hasPublicJudges",type:"info"}),this.$store.commit("updateHasPublicJudges",{contestId:this.contestId,hasPublicJudges:e}))}}}),Ui={class:"form-check mt-2"},Mi=["checked"],ji=s("label",{class:"form-check-label",for:"isContacted"}," Public judge usernames ",-1),Ai=s("div",{class:"small text-secondary"}," Check this to publicly display judge usernames on the results page. Judges may receive harassment depending on their input, so use this setting with caution. ",-1);function Ti(t,e,o,d,p,m){return n(),i("div",Ui,[s("input",{id:"isContacted",checked:t.hasPublicJudges,class:"form-check-input",type:"checkbox",onChange:e[0]||(e[0]=r=>t.toggleHasPublicJudges(r))},null,40,Mi),ji,Ai])}const Di=C(ki,[["render",Ti]]),Ji=v({name:"ContestAnnouncements",props:{contest:{type:Object,required:!0}},data(){return{uploadBeatmapText:`hello! results for [${this.contest.name}](${this.contest.url}) are finalized, so you can upload your map! the winners will be linked in the results news post

thats all :)`}},methods:{async sendAnnouncement(t){if(confirm("Are you sure?")){const o=await this.$http.executePost(`/contests/listing/${this.contest.id}/sendAnnouncement`,{text:this.uploadBeatmapText},t);this.$http.isError(o)||this.$store.dispatch("updateToastMessages",{message:"Announcement sent",type:"info"})}}}}),Ei=s("h5",null,"Announcements",-1),Vi={class:"ms-2 mb-2"},Ni=s("i",{class:"fas fa-angle-down"},null,-1),Bi={id:"uploadAnnouncement",class:"collapse"};function Ri(t,e,o,d,p,m){return n(),i("div",null,[Ei,s("div",Vi,[s("a",{href:"#uploadAnnouncement","data-bs-toggle":"collapse",onClick:e[0]||(e[0]=$(()=>{},["prevent"]))},[l(" See upload beatmaps announcement "),Ni]),s("div",Bi,[I(s("textarea",{"onUpdate:modelValue":e[1]||(e[1]=r=>t.uploadBeatmapText=r),length:"4",class:"ml-1 form-control",maxlength:"40000",rows:"6"},null,512),[[k,t.uploadBeatmapText]]),s("button",{class:"btn btn-sm w-100 btn-primary mt-2",onClick:e[2]||(e[2]=r=>t.sendAnnouncement(r))}," Send announcement ")])])])}const qi=C(Ji,[["render",Ri]]),Li=v({name:"ContestInfo",components:{ContestHeader:F,ContestBanner:P,DateInfo:qt,Name:zt,AnonymizationGuide:ue,ModeInfo:te,StatusInfo:Yt,SubmissionsInfo:os,DownloadInfo:ps,Urls:Ie,Description:De,ScreenersInfo:ws,JudgesInfo:Ls,MarkdownUserList:Xs,ScreeningResults:ln,ScreeningStatus:js,JudgingThreshold:fn,ScreeningVoteCount:Cn,CriteriaSelection:Bn,JudgingResults:oi,FeaturedArtistContestToggle:ci,UseRawScoringToggle:yi,ScreeningBonusToggle:Si,PublicJudgesToggle:Di,ContestAnnouncements:qi},props:{contest:{type:Object,required:!0}},data(){return{screenersAndJudgesVisible:!1,submissionsVisible:!1,screeningResultsVisible:!1,judgingCriteriaVisible:!1,judgingResultsVisible:!1,usergroupAdmin:mt.Admin}},computed:{...j(["loggedInUser","initialized"])},methods:{async deleteContest(t){if(confirm("Are you sure?")){const o=await this.$http.executePost(`/contests/listing/${this.contest.id}/delete`,{},t);this.$http.isError(o)||(this.$store.dispatch("updateToastMessages",{message:"Deleted contest",type:"info"}),this.$store.commit("deleteContest",this.contest.id))}}}}),Fi=s("h5",null,"General",-1),Pi=s("hr",null,null,-1),zi=s("h5",null," Submissions ",-1),Oi={class:"ms-2 mb-2"},Gi=s("i",{class:"fas fa-angle-down"},null,-1),Hi={class:"ms-2 mb-2"},Ki=s("i",{class:"fas fa-angle-down"},null,-1),Xi=s("hr",null,null,-1),Yi=s("h4",{class:"mb-4"}," Screening ",-1),Qi=s("h5",null," Screeners ",-1),Wi={class:"ms-2 mb-2"},Zi=s("i",{class:"fas fa-angle-down"},null,-1),xi={id:"screeners",class:"row collapse mb-2"},tr=s("div",{class:"text-danger small col-sm-12"}," Note: Deleting a user from this list will remove all of their screening progress. ",-1),er=s("div",null,`To begin screening, send this link to the users above and ensure your contest's status is set to "Screening"!`,-1),sr=s("hr",null,null,-1),nr=s("h5",null," Screening Results ",-1),or={class:"row mb-2"},ir=s("div",{class:"col-sm-8 small text-secondary"},' The amount of submissions each screener can give a vote to. The limit is set to "5" by default, meaning screeners can choose the top 5 maps. The limit is 10. ',-1),rr={class:"ms-2 mb-2"},dr=s("i",{class:"fas fa-angle-down"},null,-1),ar={class:"row mb-2"},lr=s("div",{class:"col-sm-8 small text-secondary"},[l(" Submissions with this "),s("i",{class:"fa-star fas text-warning small"}),l(' score or above in "screening results" will be available to judges. If your contest skips the screening process, set this to "0". ')],-1),ur={class:"ms-2 mb-2"},cr=s("i",{class:"fas fa-angle-down"},null,-1),pr=s("hr",null,null,-1),mr=s("h4",{class:"mb-4"}," Judging ",-1),hr=s("h5",null," Judges ",-1),gr={class:"ms-2 mb-2"},fr=s("i",{class:"fas fa-angle-down"},null,-1),$r={id:"judges",class:"row collapse mb-2"},yr=s("div",{class:"text-danger small col-sm-12"}," Note: Deleting a user from this list will remove all of their judging progress. ",-1),br=s("div",null,`To begin judging, send this link to the users above and ensure your contest's status is set to "Judging"!`,-1),_r=s("hr",null,null,-1),vr=s("h5",null," Judging Criteria ",-1),Cr=s("hr",null,null,-1),wr=s("h5",null," Judging Results ",-1),Ir=s("hr",null,null,-1);function Sr(t,e,o,d,p,m){const r=g("contest-header"),u=g("contest-banner"),a=g("name"),S=g("status-info"),h=g("mode-info"),N=g("featured-artist-contest-toggle"),H=g("use-raw-scoring-toggle"),K=g("date-info"),X=g("urls"),Y=g("description"),Q=g("submissions-info"),W=g("download-info"),Z=g("anonymization-guide"),x=g("screeners-info"),B=g("markdown-user-list"),tt=g("screening-vote-count"),et=g("screening-status"),st=g("judging-threshold"),nt=g("screening-bonus-toggle"),ot=g("screening-results"),it=g("judges-info"),rt=g("criteria-selection"),dt=g("judging-results"),at=g("public-judges-toggle"),lt=g("contest-announcements");return n(),i("div",null,[f(r,{"contest-id":t.contest.id,name:t.contest.name,url:t.contest.url,creators:t.contest.creators},null,8,["contest-id","name","url","creators"]),t.contest.bannerUrl?(n(),U(u,{key:0,"banner-url":t.contest.bannerUrl},null,8,["banner-url"])):_("",!0),Fi,s("div",null,[f(a,{class:"mb-2","contest-id":t.contest.id,name:t.contest.name},null,8,["contest-id","name"]),f(S,{class:"mb-2","contest-id":t.contest.id,status:t.contest.status,"is-approved":t.contest.isApproved},null,8,["contest-id","status","is-approved"]),f(h,{class:"mb-2","contest-id":t.contest.id,mode:t.contest.mode},null,8,["contest-id","mode"]),f(N,{class:"mb-2","contest-id":t.contest.id,"is-featured-artist-contest":t.contest.isFeaturedArtistContest},null,8,["contest-id","is-featured-artist-contest"]),f(H,{class:"mb-2","contest-id":t.contest.id,"use-raw-scoring":t.contest.useRawScoring},null,8,["contest-id","use-raw-scoring"]),f(K,{class:"mb-2","contest-id":t.contest.id,"contest-start":t.contest.contestStart?t.contest.contestStart.slice(0,10):null,"contest-end":t.contest.contestEnd?t.contest.contestEnd.slice(0,10):null},null,8,["contest-id","contest-start","contest-end"]),f(X,{"contest-id":t.contest.id,url:t.contest.url||void 0,"osu-contest-listing-url":t.contest.osuContestListingUrl||void 0,"results-url":t.contest.resultsUrl||void 0,"banner-url":t.contest.bannerUrl||void 0},null,8,["contest-id","url","osu-contest-listing-url","results-url","banner-url"]),f(Y,{"contest-id":t.contest.id,description:t.contest.description},null,8,["contest-id","description"]),Pi,s("div",null,[zi,s("div",Oi,[s("a",{href:"#submissions","data-bs-toggle":"collapse",onClick:e[0]||(e[0]=$(()=>{},["prevent"]))},[l(" See all submissions ("+c(t.contest.submissions.length)+") ",1),Gi])]),f(Q,{id:"submissions",class:"collapse","contest-id":t.contest.id,submissions:t.contest.submissions,"osu-contest-listing-url":t.contest.osuContestListingUrl},null,8,["contest-id","submissions","osu-contest-listing-url"]),f(W,{"contest-id":t.contest.id,download:t.contest.download},null,8,["contest-id","download"]),s("div",Hi,[s("a",{href:"#anonymizationGuide","data-bs-toggle":"collapse",onClick:e[1]||(e[1]=$(()=>{},["prevent"]))},[l(" See submission anonymization guide "),Ki])]),f(Z,{id:"anonymizationGuide",class:"collapse","contest-id":t.contest.id},null,8,["contest-id"]),Xi,Yi,Qi,s("div",Wi,[s("a",{href:"#screeners","data-bs-toggle":"collapse",onClick:e[2]||(e[2]=$(()=>{},["prevent"]))},[l(" See all screeners ("+c(t.contest.screeners.length)+") ",1),Zi])]),s("div",xi,[f(x,{class:"col-sm-4","contest-id":t.contest.id,screeners:t.contest.screeners},null,8,["contest-id","screeners"]),f(B,{class:"col-sm-7",users:t.contest.screeners},null,8,["users"]),tr]),er,s("code",null,"https://mappersguild.com/contests/screening?contest="+c(t.contest.id),1),sr,nr,s("div",or,[f(tt,{class:"col-sm-4","contest-id":t.contest.id,"screening-vote-count":t.contest.screeningVoteCount},null,8,["contest-id","screening-vote-count"]),ir]),s("div",rr,[s("a",{href:"#screeningStatus","data-bs-toggle":"collapse",onClick:e[3]||(e[3]=$(()=>{},["prevent"]))},[l(" See screening status per screener "),dr])]),f(et,{id:"screeningStatus",class:"collapse mx-2",contest:t.contest},null,8,["contest"]),s("div",ar,[f(st,{class:"col-sm-4","contest-id":t.contest.id,"judging-threshold":t.contest.judgingThreshold},null,8,["contest-id","judging-threshold"]),lr]),f(nt,{class:"mb-2","contest-id":t.contest.id,"screening-bonus":t.contest.screeningBonus},null,8,["contest-id","screening-bonus"]),s("div",ur,[s("a",{href:"#screeningResults","data-bs-toggle":"collapse",onClick:e[4]||(e[4]=$(()=>{},["prevent"]))},[l(" See screening results "),cr])]),f(ot,{id:"screeningResults",class:"collapse","contest-id":t.contest.id,"contest-name":t.contest.name,submissions:t.contest.submissions,"judging-threshold":t.contest.judgingThreshold,"screening-vote-count":t.contest.screeningVoteCount,"screening-bonus":t.contest.screeningBonus,screeners:t.contest.screeners},null,8,["contest-id","contest-name","submissions","judging-threshold","screening-vote-count","screening-bonus","screeners"]),pr,mr,hr,s("div",gr,[s("a",{href:"#judges","data-bs-toggle":"collapse",onClick:e[5]||(e[5]=$(()=>{},["prevent"]))},[l(" See all judges ("+c(t.contest.judges.length)+") ",1),fr])]),s("div",$r,[f(it,{class:"col-sm-4","contest-id":t.contest.id,judges:t.contest.judges},null,8,["contest-id","judges"]),f(B,{class:"col-sm-7",users:t.contest.judges},null,8,["users"]),yr]),br,s("code",null,"https://mappersguild.com/contests/judging?contest="+c(t.contest.id),1),_r,vr,f(rt,{"contest-id":t.contest.id,criterias:t.contest.criterias},null,8,["contest-id","criterias"]),Cr,wr,f(dt,{"contest-id":t.contest.id},null,8,["contest-id"]),f(at,{class:"mb-2","contest-id":t.contest.id,"has-public-judges":t.contest.hasPublicJudges},null,8,["contest-id","has-public-judges"]),s("code",null,"https://mappersguild.com/contests/results?contest="+c(t.contest.id),1),Ir,t.loggedInUser&&t.loggedInUser.group==t.usergroupAdmin?(n(),U(lt,{key:0,class:"mb-2",contest:t.contest},null,8,["contest"])):_("",!0),t.contest.status=="hidden"&&!t.contest.submissions.length?(n(),i("button",{key:1,class:"btn btn-sm btn-outline-danger w-100",onClick:e[6]||(e[6]=ut=>t.deleteContest(ut))}," Delete contest ")):_("",!0)])])])}const kr=C(Li,[["render",Sr]]),Ur=v({name:"CurrentSubmission",computed:{...V(["userSubmission"])}}),Mr=["href"],jr={class:"small text-secondary ms-1"};function Ar(t,e,o,d,p,m){return n(),i("span",null,[s("a",{href:t.userSubmission.url,target:"_blank",class:"small"},c(t.userSubmission.url),9,Mr),s("span",jr,[l("(last updated "),s("code",null,c(new Date(t.userSubmission.updatedAt).toString().slice(4,33)),1),l(")")])])}const Tr=C(Ur,[["render",Ar]]),Dr=v({name:"MapSubmissionForm",components:{CurrentSubmission:Tr},props:{contestId:{type:String,required:!0}},data(){return{newSubmissionUrl:""}},computed:{...j(["loggedInUser"]),...V(["userSubmission"])},watch:{contestId(){this.newSubmissionUrl=this.userSubmission?this.userSubmission.url:""}},methods:{async createSubmission(t){const e=await this.$http.executePost(`/contests/listing/${this.contestId}/createSubmission`,{url:this.newSubmissionUrl},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"Submitted!",type:"info"}),this.$store.commit("updateSubmissions",{contestId:this.contestId,submissions:e}))}}});const Jr=t=>(T("data-v-0fe2abef"),t=t(),D(),t),Er={class:"row"},Vr={class:"col-sm-12 mb-2"},Nr={key:0,class:"me-2 text-secondary"},Br={class:"col-sm-8"},Rr={class:"col-sm-4"},qr=Jr(()=>s("div",{class:"small text-secondary"}," Upload your beatmap to a file sharing service and provide a link here! For various reasons, this website does not host beatmap uploads. ",-1));function Lr(t,e,o,d,p,m){const r=g("current-submission");return n(),i("div",Er,[s("div",Vr,[l(" Current submission: "),t.userSubmission?t.userSubmission&&t.userSubmission.url?(n(),U(r,{key:1})):_("",!0):(n(),i("span",Nr,"No submission yet!"))]),s("div",Br,[I(s("input",{"onUpdate:modelValue":e[0]||(e[0]=u=>t.newSubmissionUrl=u),class:"form-control form-control-sm w-100 d-inline",type:"text",autocomplete:"off",placeholder:"link..."},null,512),[[k,t.newSubmissionUrl]])]),s("div",Rr,[s("button",{class:"btn btn-sm btn-outline-info w-100",onClick:e[1]||(e[1]=u=>t.createSubmission(u))}," Submit ")]),qr])}const Fr=C(Dr,[["render",Lr],["__scopeId","data-v-0fe2abef"]]),Pr=v({name:"LimitedContestInfo",components:{ContestHeader:F,ContestBanner:P,MapSubmissionForm:Fr,UserLinkList:R},props:{contest:{type:Object,required:!0}}}),zr=s("h5",null,"General",-1),Or={key:1},Gr=["innerHTML"],Hr={key:2},Kr={key:3},Xr=s("a",{href:"/faq#rewards",target:"_blank"},"Mappers' Guild points",-1),Yr={key:4,class:"mt-2"},Qr=["href"],Wr=s("hr",null,null,-1),Zr={key:5},xr=s("h5",null,"Submission",-1),td={key:0},ed={key:0},sd={key:1},nd=s("div",null,"This contest is not yet opened for submissions.",-1),od={key:2},id={key:1},rd=s("a",{href:"https://osu.ppy.sh/community/contests",target:"_blank"},"osu!'s contest listing",-1),dd=["href"],ad={key:6},ld=s("h5",null,"Results",-1),ud=["href"],cd={key:0},pd=["href"],md=s("hr",null,null,-1),hd=s("h5",null,"Contributions",-1),gd={key:1,class:"mt-2"},fd=s("a",{href:"https://osu.ppy.sh/wiki/en/Contests/Monthly_Beatmapping_Contest#screening",target:"_blank"},"screening",-1),$d={key:2,class:"mt-2"},yd=s("a",{href:"https://osu.ppy.sh/wiki/en/Contests/Monthly_Beatmapping_Contest#judging",target:"_blank"},"judging",-1);function bd(t,e,o,d,p,m){const r=g("contest-header"),u=g("contest-banner"),a=g("map-submission-form"),S=g("user-link-list");return n(),i("div",null,[f(r,{"contest-id":t.contest.id,name:t.contest.name,url:t.contest.url,creators:t.contest.creators},null,8,["contest-id","name","url","creators"]),t.contest.bannerUrl?(n(),U(u,{key:0,"banner-url":t.contest.bannerUrl},null,8,["banner-url"])):_("",!0),zr,t.contest.description?(n(),i("div",Or,[s("div",{class:"small mt-2 bg-dark pt-3 pb-1 px-3 mb-2 rounded",innerHTML:t.$md.render(t.contest.description.trim())},null,8,Gr)])):_("",!0),t.contest.status!=="complete"?(n(),i("div",Hr,[l(" This contest is currently in the "),s("b",null,c(t.contest.status),1),l(" phase. ")])):_("",!0),t.contest.isFeaturedArtistContest?(n(),i("div",Kr,[l(" You can earn "),Xr,l(" by participating in this contest because it only uses Featured Artist songs. ")])):_("",!0),t.contest.url?(n(),i("div",Yr,[s("a",{href:t.contest.url,target:"_blank"},"Read more about the contest here!",8,Qr)])):_("",!0),Wr,t.contest.status!=="complete"?(n(),i("div",Zr,[xr,t.contest.osuContestListingUrl?(n(),i("div",id,[l(" This contest is being hosted on "),rd,l(". Submit your beatmap on the "),s("a",{href:t.contest.osuContestListingUrl,target:"_blank"},"official contest page",8,dd),l("! ")])):(n(),i("div",td,[new Date(t.contest.contestEnd)<new Date?(n(),i("div",ed," This contest is no longer accepting new submissions. ")):new Date(t.contest.contestStart)>new Date?(n(),i("div",sd,[nd,s("div",null,[l("Maps can be submitted after "),s("code",null,c(new Date(t.contest.contestStart)),1)])])):(n(),i("div",od,[l(" Maps can be submitted until "),s("code",null,c(new Date(t.contest.contestEnd)),1),f(a,{class:"mt-2","contest-id":t.contest.id},null,8,["contest-id"])]))]))])):(n(),i("div",ad,[ld,s("div",null,[s("a",{href:t.contest.resultsUrl,target:"_blank"},"View contest results here!",8,ud)]),t.contest.submissions&&t.contest.submissions.length?(n(),i("div",cd,[s("a",{href:"/contests/results?contest="+t.contest.id,target:"_blank"},"View Mappers' Guild judging scores here!",8,pd)])):_("",!0),md,hd,t.contest.screeners&&t.contest.screeners.length?(n(),i("div",gd,[l(" Thanks to these users for "),fd,l(" this contest's submissions: "),f(S,{users:t.contest.screeners},null,8,["users"])])):_("",!0),t.contest.judges&&t.contest.judges.length?(n(),i("div",$d,[l(c(!t.contest.screeners||!t.contest.screeners.length?"Thanks ":"And thanks ")+" to these users for ",1),yd,l(" this contest's submissions: "),f(S,{users:t.contest.judges},null,8,["users"])])):_("",!0)]))])}const _d=C(Pr,[["render",bd]]),vd=v({name:"AddContest",data(){return{contestName:"",userContests:[],templateContest:""}},async created(){const t=await this.$http.executeGet("/contests/listing/loadUserContests");this.userContests=t},methods:{async addContest(t){const e=await this.$http.executePost("/contests/listing/create",{name:this.contestName,templateId:this.templateContest},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"Contest created",type:"info"}),this.$store.commit("addContest",e),this.$router.replace(`/contests/listing?contest=${e.id}`))}}}),Cd={class:"container card card-body py-3 mb-2"},wd=s("option",{value:"",disabled:""}," Contest details template ",-1),Id=["value"],Sd={key:0,value:"x",disabled:""};function kd(t,e,o,d,p,m){return n(),i("div",Cd,[I(s("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>t.contestName=r),class:"form-control mb-2",type:"text",placeholder:"name"},null,512),[[k,t.contestName,void 0,{trim:!0}]]),I(s("select",{"onUpdate:modelValue":e[1]||(e[1]=r=>t.templateContest=r),class:"form-select form-select-sm mb-2"},[wd,(n(!0),i(y,null,b(t.userContests,r=>(n(),i("option",{key:r.id,value:r.id},c(r.name),9,Id))),128)),t.userContests.length?_("",!0):(n(),i("option",Sd," No templates available "))],512),[[E,t.templateContest]]),s("button",{class:"btn w-100 btn-info",type:"button",onClick:e[2]||(e[2]=r=>t.addContest(r))}," Add new contest ")])}const Ud=C(vd,[["render",kd]]),Md={state:{contests:[],selectedContestId:null},mutations:{setContests(t,e){t.contests=e},addContest(t,e){t.contests.unshift(e),t.selectedContestId=e.id},addSubmission(t,e){const o=t.contests.findIndex(d=>d.id==e.contestId);o!==-1&&t.contests[o].submissions.push(e.submission)},deleteContest(t,e){t.selectedContestId=null;const o=t.contests.findIndex(d=>d.id==e);o!==-1&&t.contests.splice(o,1)},setSelectedContestId(t,e){t.selectedContestId=e},updateContestStart(t,e){const o=t.contests.find(d=>d.id==e.contestId);o&&(o.contestStart=e.contestStart)},updateContestEnd(t,e){const o=t.contests.find(d=>d.id==e.contestId);o&&(o.contestEnd=e.contestEnd)},updateIsFeaturedArtistContest(t,e){const o=t.contests.find(d=>d.id==e.contestId);o&&(o.isFeaturedArtistContest=e.isFeaturedArtistContest)},updateHasPublicJudges(t,e){const o=t.contests.find(d=>d.id==e.contestId);o&&(o.hasPublicJudges=e.hasPublicJudges)},updateScreeningBonus(t,e){const o=t.contests.find(d=>d.id==e.contestId);o&&(o.screeningBonus=e.screeningBonus)},updateUrl(t,e){const o=t.contests.find(d=>d.id==e.contestId);o&&(o.url=e.url)},updateOsuContestListingUrl(t,e){const o=t.contests.find(d=>d.id==e.contestId);o&&(o.osuContestListingUrl=e.osuContestListingUrl)},updateResultsUrl(t,e){const o=t.contests.find(d=>d.id==e.contestId);o&&(o.resultsUrl=e.resultsUrl)},updateBannerUrl(t,e){const o=t.contests.find(d=>d.id==e.contestId);o&&(o.bannerUrl=e.bannerUrl)},updateDownload(t,e){const o=t.contests.find(d=>d.id==e.contestId);o&&(o.download=e.download)},updateCreators(t,e){const o=t.contests.find(d=>d.id==e.contestId);o&&(o.creators=e.creators)},deleteSubmission(t,e){const o=t.contests.find(d=>d.id==e.contestId);if(o){const d=o.submissions.findIndex(p=>p.id==e.submissionId);d!==-1&&o.submissions.splice(d,1)}},addScreener(t,e){const o=t.contests.find(d=>d.id==e.contestId);o==null||o.screeners.push(e.screener)},deleteScreener(t,e){const o=t.contests.find(d=>d.id==e.contestId);if(o){const d=o.screeners.findIndex(p=>p.id==e.screenerId);d!==-1&&o.screeners.splice(d,1)}},addJudge(t,e){const o=t.contests.find(d=>d.id==e.contestId);o==null||o.judges.push(e.judge)},deleteJudge(t,e){const o=t.contests.find(d=>d.id==e.contestId);if(o){const d=o.judges.findIndex(p=>p.id==e.judgeId);d!==-1&&o.judges.splice(d,1)}},updateJudgingThreshold(t,e){const o=t.contests.find(d=>d.id==e.contestId);o&&(o.judgingThreshold=e.judgingThreshold)},updateScreeningVoteCount(t,e){const o=t.contests.find(d=>d.id==e.contestId);o&&(o.screeningVoteCount=e.screeningVoteCount)},updateStatus(t,e){const o=t.contests.find(d=>d.id==e.contestId);o&&(o.status=e.status)},updateMode(t,e){const o=t.contests.find(d=>d.id==e.contestId);o&&(o.mode=e.mode)},updateContestCriterias(t,e){const o=t.contests.find(d=>d.id==e.contestId);o&&(o.criterias=e.criterias)},updateName(t,e){const o=t.contests.find(d=>d.id==e.contestId);o&&(o.name=e.name)},updateDescription(t,e){const o=t.contests.find(d=>d.id==e.contestId);o&&(o.description=e.description)},updateSubmissions(t,e){const o=t.contests.find(d=>d.id==e.contestId);o&&(o.submissions=e.submissions)},updateAnonymousSubmissionName(t,e){const o=t.contests.find(d=>d.id==e.contestId);if(o){const d=o.submissions.findIndex(p=>p.id==e.submissionId);d!==-1&&(o.submissions[d].name=e.name)}},addSubmissionsFromCsv(t,e){const o=t.contests.find(d=>d.id==e.contestId);o&&(o.submissions=e.submissions)}},getters:{selectedContest:t=>t.contests.find(e=>e.id===t.selectedContestId),userSubmission:t=>{const e=t.contests.find(o=>o.id===t.selectedContestId);return e&&e.submissions&&e.submissions.length?e.submissions[0]:null}}},jd=Md,Ad=v({name:"ContestPage",components:{ContestCard:pt,AddContest:Ud,ContestInfo:kr,LimitedContestInfo:_d},data(){return{displayMode:"activeContests",filterMode:"",filterValue:"",firstLoadComplete:!1,loadedSpecificContest:!1,limit:20,skip:0,total:0,moreContestsAvailable:!0,loadingCategory:!1}},computed:{...j(["loggedInUser"]),...j({contests:t=>t.contests.contests,selectedContestId:t=>t.contests.selectedContestId}),...V(["selectedContest"]),filteredContests(){if(this.contests){let t=[...this.contests];if(this.filterMode.length&&(t=t.filter(e=>e.mode==this.filterMode)),this.filterValue.length){const e=this.filterValue.toLowerCase();t=t.filter(o=>o.name.toLowerCase().includes(e))}return t}else return[]},creatorIds(){return this.selectedContest.creators.map(t=>t.id)}},watch:{async displayMode(){this.moreContestsAvailable=!0,this.skip=0,this.firstLoadComplete&&(this.loadingCategory=!0,this.$store.commit("setContests",null),this.$store.commit("setSelectedContestId",null),this.$router.replace("/contests/listing"),await this.loadContests(),this.loadingCategory=!1)}},beforeCreate(){this.$store.hasModule("contests")||this.$store.registerModule("contests",jd)},unmounted(){this.$store.hasModule("contests")&&this.$store.unregisterModule("contests")},async created(){await this.loadContests(),this.firstLoadComplete=!0},methods:{async loadContests(){const t=this.$route.query.contest;if(t&&!this.firstLoadComplete){const e=await this.$http.initialRequest(`/contests/listing/searchContest/${t}`);this.$http.isError(e)?(this.$router.replace("/contests/listing"),this.firstLoadComplete=!0,await this.loadContests()):(e.creators.map(d=>d.id).includes(this.loggedInUser.id)?this.displayMode="myContests":e.status=="complete"?this.displayMode="completedContests":this.displayMode=="activeContests",this.$store.commit("setContests",[e]),this.$store.commit("setSelectedContestId",t),this.loadedSpecificContest=!0)}else{let e;this.firstLoadComplete?e=await this.$http.executeGet(`/contests/listing/relevantInfo?displayMode=${this.displayMode}&limit=${this.limit}&skip=${this.skip}`):e=await this.$http.initialRequest(`/contests/listing/relevantInfo?displayMode=${this.displayMode}&limit=${this.limit}&skip=${this.skip}`),this.$http.isError(e)||(this.skip+=this.limit,this.$store.commit("setContests",e),this.$store.commit("setSelectedContestId",null),this.loadedSpecificContest=!1,e.length<this.limit&&(this.moreContestsAvailable=!1))}},async loadMore(t){this.total=this.contests.length;const e=await this.$http.executeGet(`/contests/listing/relevantInfo?displayMode=${this.displayMode}&limit=${this.limit}&skip=${this.skip}`,t);this.$http.isError(e)||(this.skip==0?this.$store.commit("setContests",e):this.$store.commit("setContests",[...this.contests||[],...e]),this.skip+=this.limit,this.$store.commit("setSelectedContestId",null),this.loadedSpecificContest=!1),this.total==this.contests.length&&(this.moreContestsAvailable=!1,this.$store.dispatch("updateToastMessages",{message:"No more contests to load!",type:"info"}))}}}),Td={class:"row"},Dd={class:"col-sm-3"},Jd={class:"container card card-body py-3 mb-2"},Ed={class:"input-group"},Vd=s("button",{class:"btn btn-primary",href:"#"},[s("i",{class:"fas fa-search"})],-1),Nd=s("hr",null,null,-1),Bd=s("div",null," Contest category ",-1),Rd={class:"small ms-2"},qd=s("hr",null,null,-1),Ld=s("div",null," Contest mode ",-1),Fd={class:"small mx-2"},Pd=s("hr",null,null,-1),zd={key:1,class:"container card card-body py-3 mb-2 text-secondary"},Od={key:2,class:"container card card-body py-3 mb-2 text-secondary"},Gd={key:3},Hd={key:4},Kd={class:"col-sm-9 container card card-body"},Xd={key:0},Yd=s("h5",null,"View a contest",-1),Qd={class:"mb-2"},Wd=s("div",{class:"mb-3"},[l(" Narrow down results to any mode with the "),s("i",null,"Contest mode"),l(" filter. ")],-1),Zd=s("h5",null,"Create a contest",-1),xd=s("div",{class:"radial-divisor"},null,-1);function ta(t,e,o,d,p,m){const r=g("add-contest"),u=g("contest-card"),a=g("limited-contest-info"),S=g("contest-info");return n(),i("div",null,[s("div",Td,[s("div",Dd,[s("div",Jd,[s("div",Ed,[Vd,I(s("input",{"onUpdate:modelValue":e[0]||(e[0]=h=>t.filterValue=h),class:"form-control form-control-sm",type:"text",placeholder:"search",maxlength:"200",autocomplete:"off"},null,512),[[k,t.filterValue]])]),Nd,Bd,s("div",Rd,[s("div",null,[s("a",{href:"#",class:w(t.loadingCategory?"pe-none opacity-50":""),onClick:e[1]||(e[1]=$(h=>t.displayMode="activeContests",["prevent"]))},[s("span",{class:w(t.displayMode==="activeContests"?"border-bottom border-secondary":"")}," Active ",2)],2)]),s("div",null,[s("a",{href:"#",class:w(t.loadingCategory?"pe-none opacity-50":""),onClick:e[2]||(e[2]=$(h=>t.displayMode="completedContests",["prevent"]))},[s("span",{class:w(t.displayMode==="completedContests"?"border-bottom border-secondary":"")}," Completed ",2)],2)]),s("div",null,[s("a",{href:"#",class:w(t.loadingCategory?"pe-none opacity-50":""),onClick:e[3]||(e[3]=$(h=>t.displayMode="myContests",["prevent"]))},[s("span",{class:w(t.displayMode==="myContests"?"border-bottom border-secondary":"")}," My contests ",2)],2)])]),qd,Ld,s("div",Fd,[s("div",null,[s("a",{href:"#",onClick:e[4]||(e[4]=$(h=>t.filterMode="",["prevent"]))},[s("span",{class:w(t.filterMode===""?"border-bottom border-secondary":"")}," Any ",2)])]),s("div",null,[s("a",{href:"#",onClick:e[5]||(e[5]=$(h=>t.filterMode="osu",["prevent"]))},[s("span",{class:w(t.filterMode==="osu"?"border-bottom border-secondary":"")}," osu! ",2)])]),s("div",null,[s("a",{href:"#",onClick:e[6]||(e[6]=$(h=>t.filterMode="taiko",["prevent"]))},[s("span",{class:w(t.filterMode==="taiko"?"border-bottom border-secondary":"")}," osu!taiko ",2)])]),s("div",null,[s("a",{href:"#",onClick:e[7]||(e[7]=$(h=>t.filterMode="catch",["prevent"]))},[s("span",{class:w(t.filterMode==="catch"?"border-bottom border-secondary":"")}," osu!catch ",2)])]),s("div",null,[s("a",{href:"#",onClick:e[8]||(e[8]=$(h=>t.filterMode="mania",["prevent"]))},[s("span",{class:w(t.filterMode==="mania"?"border-bottom border-secondary":"")}," osu!mania ",2)])])])]),Pd,t.displayMode=="myContests"&&t.contests&&!t.loadedSpecificContest?(n(),U(r,{key:0})):_("",!0),f(ct,{name:"list",tag:"div",class:"row"},{default:A(()=>[(n(!0),i(y,null,b(t.filteredContests,h=>(n(),U(u,{key:h.id,class:"col-sm-12 my-2",contest:h,route:"listing"},null,8,["contest"]))),128))]),_:1}),t.contests?_("",!0):(n(),i("div",zd," Loading... ")),t.contests&&!t.filteredContests.length?(n(),i("div",Od," No contests available. Try other filters! ")):_("",!0),t.loadedSpecificContest?(n(),i("div",Gd,[s("button",{class:"btn w-100 btn-info",type:"button",onClick:e[9]||(e[9]=h=>t.loadMore(h))}," Load other contests ")])):t.moreContestsAvailable&&t.contests&&t.contests.length>=t.limit?(n(),i("div",Hd,[s("button",{class:"btn w-100 btn-info",type:"button",onClick:e[10]||(e[10]=h=>t.loadMore(h))}," Load more contests ")])):_("",!0)]),s("div",Kd,[t.selectedContestId?t.displayMode!=="myContests"?(n(),U(a,{key:1,contest:t.selectedContest},null,8,["contest"])):t.creatorIds.includes(t.loggedInUser.id)||t.loggedInUser.osuId==3178418?(n(),U(S,{key:2,contest:t.selectedContest},null,8,["contest"])):_("",!0):(n(),i("div",Xd,[Yd,s("div",Qd,[l(" Select a contest on the left. "),s("a",{href:"#",class:w(t.loadingCategory?"pe-none opacity-50":""),onClick:e[11]||(e[11]=$(h=>t.displayMode="activeContests",["prevent"]))},[s("span",{class:w(t.displayMode==="activeContests"?"border-bottom border-secondary":"")}," Active ",2)],2),l(" contests are displayed by default, and previous contests can be viewed by loading the "),s("a",{href:"#",class:w(t.loadingCategory?"pe-none opacity-50":""),onClick:e[12]||(e[12]=$(h=>t.displayMode="completedContests",["prevent"]))},[s("span",{class:w(t.displayMode==="completedContests"?"border-bottom border-secondary":"")}," Completed ",2)],2),l(" category. ")]),Wd,Zd,l(" Aiming to start your own contest? Filter to the "),s("a",{href:"#",class:w(t.loadingCategory?"pe-none opacity-50":""),onClick:e[13]||(e[13]=$(h=>t.displayMode="myContests",["prevent"]))},[s("span",{class:w(t.displayMode==="myContests"?"border-bottom border-secondary":"")}," My contests ",2)],2),l(" category and add one from the left-side menu! ")]))])]),xd])}const ra=C(Ad,[["render",ta]]);export{ra as default};

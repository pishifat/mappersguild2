import{d as v,m as b,x as R,_,o as i,e as l,i as y,a as o,F as m,r as g,n as z,y as A,t as u,p as h,k as d,j as n,s as C,u as D,b as f,v as k,f as I,z as V,c as E,Y as P}from"./index-eb01d7f8.js";import{F as U}from"./FilterBox-7dee2343.js";const M={namespaced:!0,state:{filterValue:"",locusInfos:[],selfLocusInfo:null},mutations:{setFilterValue(s,e){s.filterValue=e},setLocusInfos(s,e){s.locusInfos=e},setSelfLocusInfo(s,e){s.selfLocusInfo=e},setRoleIs(s,e){s.roleIs=e},updateTimezone(s,e){s.selfLocusInfo.timezone=e},updateAvailability(s,e){s.selfLocusInfo.availability=e},updateLanguage(s,e){if(s.selfLocusInfo.languages&&s.selfLocusInfo.languages.length){const a=s.selfLocusInfo.languages.findIndex(c=>c==e);a>-1?s.selfLocusInfo.languages.splice(a,1):s.selfLocusInfo.languages.push(e)}else s.selfLocusInfo.languages=[e]},updateRole(s,e){if(s.selfLocusInfo.roles&&s.selfLocusInfo.roles.length){const a=s.selfLocusInfo.roles.findIndex(c=>c==e);a>-1?s.selfLocusInfo.roles.splice(a,1):s.selfLocusInfo.roles.push(e)}else s.selfLocusInfo.roles=[e]},updateDiscord(s,e){s.selfLocusInfo.discord=e},updateEmail(s,e){s.selfLocusInfo.email=e},updateAbout(s,e){s.selfLocusInfo.about=e},updateIsPublic(s,e){s.selfLocusInfo.isPublic=e}},getters:{filteredLocusInfos:s=>{let e=s.locusInfos;return s.filterValue.length&&(e=e.filter(a=>{let c;return a.user.username.toLowerCase().includes(s.filterValue.toLowerCase())&&(c=!0),a.user.osuId.toString().includes(s.filterValue)&&(c=!0),a.languages.includes(s.filterValue.toLowerCase())&&(c=!0),c})),s.roleIs&&s.roleIs!=="any"&&(e=e.filter(a=>a.roles.includes(s.roleIs))),e}},actions:{updateFilterValue({commit:s},e){s("setFilterValue",e)},updateRole({commit:s,state:e},a){e.roleIs!==a&&s("setRoleIs",a)}}},S=M,F=v({name:"LocusPageFilters",components:{FilterBox:U},data(){return{roleOptions:{any:"Any",designer:"Visual designer",mapper:"Mapper",musician:"Musician"}}},computed:b("locus",["roleIs"]),methods:R("locus",["updateFilterValue","updateRole"])}),N={class:"container card card-body py-3 mb-2"},O={class:"row small mt-3"},j=o("div",{class:"col-auto filter-title"}," Role ",-1),B={class:"col"},Y=["onClick"];function q(s,e,a,c,$,L){const r=h("filter-box");return i(),l("div",N,[y(r,{placeholder:"search username...","onUpdate:filterValue":e[0]||(e[0]=t=>s.updateFilterValue(t))}),o("div",O,[j,o("div",B,[(i(!0),l(m,null,g(s.roleOptions,(t,p)=>(i(),l("a",{key:p,class:z(s.roleIs===p?"sorted":"unsorted"),href:"#",onClick:A(w=>s.updateRole(p),["prevent"])},u(t),11,Y))),128))])])])}const W=_(F,[["render",q]]),H=v({name:"LocusCard",props:{locusInfo:{type:Object,required:!0}}});const K=s=>(C("data-v-02543138"),s=s(),D(),s),G={key:0},J={class:"card card-level-2 card-body my-2"},Q=["src"],X={class:"ms-3 mt-1 mb-1"},Z={class:"ms-3"},x={key:0,class:"ms-2 text-secondary text-capitalize"},ss={key:1,class:"ms-2 text-secondary"},es={key:0,class:"mb-3"},os={key:1,class:"small"},ts={key:0},is={class:"text-secondary"},ls={key:1},ns={class:"text-secondary"},as={key:2,class:"ms-2"},us={class:"text-secondary"},ds={key:2,class:"small"},cs={class:"text-secondary"},rs=K(()=>o("a",{href:"https://www.timeanddate.com/time/map/#!cities=1440",target:"_blank"},"UTC",-1)),fs={key:3,class:"small"},hs={class:"text-secondary"},ps={key:4,class:"small"},ms={class:"text-secondary text-capitalize"},gs={key:5},bs={key:6,class:"small"},ys=["innerHTML"];function Is(s,e,a,c,$,L){const r=h("user-link");return s.locusInfo?(i(),l("div",G,[o("div",J,[o("img",{src:"https://a.ppy.sh/"+s.locusInfo.user.osuId,class:"card-avatar-img"},null,8,Q),o("div",X,[y(r,{class:"ms-2",user:s.locusInfo.user},null,8,["user"])]),o("div",Z,[s.locusInfo.roles&&s.locusInfo.roles.length?(i(),l("i",x,u(s.locusInfo.roles.join(", ")),1)):(i(),l("i",ss,"No roles selected"))]),s.locusInfo.timezone||s.locusInfo.availability||s.locusInfo.languages&&s.locusInfo.languages.length?(i(),l("hr",es)):d("",!0),s.locusInfo.discord||s.locusInfo.email?(i(),l("div",os,[s.locusInfo.discord&&s.locusInfo.discord.length&&s.locusInfo.email&&s.locusInfo.email.length?(i(),l("div",ts,[n(" Discord: "),o("span",is,[o("i",null,u(s.locusInfo.discord?s.locusInfo.discord:"Discord ID")+" ("+u(s.locusInfo.email)+")",1)])])):s.locusInfo.discord&&s.locusInfo.discord.length?(i(),l("div",ls,[n(" Discord: "),o("span",ns,[o("i",null,u(s.locusInfo.discord?s.locusInfo.discord:"Discord ID"),1)])])):!s.locusInfo.discord&&!s.locusInfo.discord.length&&s.locusInfo.email&&s.locusInfo.email.length?(i(),l("div",as,[n(" Email: "),o("span",us,[o("i",null,u(s.locusInfo.email),1)])])):d("",!0)])):d("",!0),s.locusInfo.timezone?(i(),l("div",ds,[n(" Timezone: "),o("i",cs,[n(u(s.locusInfo.timezone)+" ",1),rs])])):d("",!0),s.locusInfo.availability?(i(),l("div",fs,[n(" Availability: "),o("i",hs,u(s.locusInfo.availability),1)])):d("",!0),s.locusInfo.languages&&s.locusInfo.languages.length?(i(),l("div",ps,[n(" Languages: "),o("i",ms,"English, "+u(s.locusInfo.languages.join(", ")),1)])):d("",!0),s.locusInfo.about?(i(),l("hr",gs)):d("",!0),s.locusInfo.about?(i(),l("div",bs,[o("span",{class:"text-secondary",innerHTML:s.$md.render(s.locusInfo.about.trim())},null,8,ys)])):d("",!0)])])):d("",!0)}const T=_(H,[["render",Is],["__scopeId","data-v-02543138"]]),vs=v({name:"SelfLocusInfo",components:{LocusCard:T},data(){return{timezoneOptions:["-11","-10","-9","-8","-7","-6","-5","-4","-3","-2","-1","+0","+1","+2","+3","+4","+5","+6","+7","+8","+9","+10","+11","+12"],languageOptions:["afrikaans","arabic","belarusian","cantonese","catalan","chinese","danish","dutch","filipino","finnish","french","galician","german","indonesian","italian","japanese","korean","lithuanian","malay","polish","portuguese","romanian","russian","serbian","spanish","swedish","thai","turkish","urdu","vietnamese"],roleOptions:["visual designer","mapper","musician"],newTimezone:"",newAvailability:"",newLanguage:"",newRole:"",newDiscord:"",newEmail:"",newAbout:""}},computed:{...b(["loggedInUser"]),...b("locus",["selfLocusInfo"]),userLanguages(){return this.selfLocusInfo&&this.selfLocusInfo.languages&&this.selfLocusInfo.languages.length?this.selfLocusInfo.languages:[]},userRoles(){return this.selfLocusInfo&&this.selfLocusInfo.roles&&this.selfLocusInfo.roles.length?this.selfLocusInfo.roles:[]}},watch:{selfLocusInfo(){this.newTimezone=this.selfLocusInfo.timezone,this.newAvailability=this.selfLocusInfo.availability,this.newDiscord=this.selfLocusInfo.discord,this.newEmail=this.selfLocusInfo.email,this.newAbout=this.selfLocusInfo.about}},methods:{async updateTimezone(s){const e=await this.$http.executePost(`/locus/${this.selfLocusInfo.id}/updateTimezone`,{timezone:this.newTimezone},s);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"Updated timezone",type:"info"}),this.$store.commit("locus/updateTimezone",e))},async updateAvailability(s){const e=await this.$http.executePost(`/locus/${this.selfLocusInfo.id}/updateAvailability`,{availability:this.newAvailability},s);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"Updated availability",type:"info"}),this.$store.commit("locus/updateAvailability",e))},async updateLanguage(s){const e=await this.$http.executePost(`/locus/${this.selfLocusInfo.id}/updateLanguage`,{language:this.newLanguage},s);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"Updated language",type:"info"}),this.$store.commit("locus/updateLanguage",e))},async updateRole(s){const e=await this.$http.executePost(`/locus/${this.selfLocusInfo.id}/updateRole`,{role:this.newRole},s);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"Updated role",type:"info"}),this.$store.commit("locus/updateRole",e))},async updateDiscord(s){const e=await this.$http.executePost(`/locus/${this.selfLocusInfo.id}/updateDiscord`,{discord:this.newDiscord},s);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"Updated discord",type:"info"}),this.$store.commit("locus/updateDiscord",e))},async updateEmail(s){const e=await this.$http.executePost(`/locus/${this.selfLocusInfo.id}/updateEmail`,{email:this.newEmail},s);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"Updated email",type:"info"}),this.$store.commit("locus/updateEmail",e))},async updateAbout(s){const e=await this.$http.executePost(`/locus/${this.selfLocusInfo.id}/updateAbout`,{about:this.newAbout},s);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"Updated about",type:"info"}),this.$store.commit("locus/updateAbout",e))},async toggleIsPublic(s){const e=await this.$http.executePost(`/locus/${this.selfLocusInfo.id}/toggleIsPublic`,{},s);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"Updated public display",type:"info"}),this.$store.commit("locus/updateIsPublic",e))}}}),_s={class:"row"},$s={class:"col-sm-6"},Ls={class:"mb-2"},ws={class:"small"},ks={class:"small text-secondary mb-1"},Ts={class:"mb-2"},Rs={class:"small"},zs=o("div",{class:"small text-secondary"},' What roles best describe you? Feel free to elaborate in "about" section ',-1),As={class:"input-group"},Cs=o("option",{value:"",selected:"",disabled:""}," Select a role ",-1),Ds=["value"],Vs={class:"input-group-append"},Es=["disabled"],Ps=o("i",{class:"fas fa-plus"},null,-1),Us=[Ps],Ms={class:"input-group-append"},Ss=["disabled"],Fs=o("i",{class:"fas fa-minus"},null,-1),Ns=[Fs],Os=o("hr",null,null,-1),js={class:"mb-2"},Bs={class:"small"},Ys=o("div",{class:"small text-secondary"}," Your Discord ID (if you want to communicate through Discord) ",-1),qs={class:"mb-2"},Ws={class:"small"},Hs=o("div",{class:"small text-secondary"}," Your email (if you want to communicate through email) ",-1),Ks={class:"mb-2"},Gs={class:"small"},Js=o("div",{class:"small text-secondary"},[n(" Relative to "),o("a",{href:"https://www.timeanddate.com/time/map/#!cities=1440",target:"_blank"},"UTC")],-1),Qs=o("option",{value:"",selected:"",disabled:""}," Select a timezone ",-1),Xs=["value"],Zs={class:"mb-2"},xs={class:"small"},se=o("div",{class:"small text-secondary"}," When you're usually available ",-1),ee={class:"mb-2"},oe={class:"small"},te=o("div",{class:"small text-secondary"}," Any languages you're comfortable communicating with (excluding English) ",-1),ie={class:"input-group"},le=o("option",{value:"",selected:"",disabled:""}," Select a language ",-1),ne=["value"],ae={class:"input-group-append"},ue=["disabled"],de=o("i",{class:"fas fa-plus"},null,-1),ce=[de],re={class:"input-group-append"},fe=["disabled"],he=o("i",{class:"fas fa-minus"},null,-1),pe=[he],me=o("hr",null,null,-1),ge={class:"mb-2"},be={class:"small"},ye=o("div",{class:"small text-secondary"},[n(" Any info you'd like people to know about you, such as your preferred genres, mapping experience, or other relevant skills. This section also supports "),o("a",{href:"https://www.markdownguide.org/cheat-sheet/",target:"_blank"},"markdown"),n("! ")],-1),Ie={key:0,class:"col-sm-6"},ve={class:"text-danger small mt-3"},_e=o("hr",null,null,-1);function $e(s,e,a,c,$,L){const r=h("locus-card");return i(),l("div",null,[o("div",null,[o("div",null,[o("div",_s,[o("div",$s,[o("div",Ls,[o("div",ws,[n(" Visibility "),o("div",ks,[n(" Toggle this for public display. Your listing is currently "),o("i",null,u(s.selfLocusInfo.isPublic?"visible":"not visible"),1),n("! ")]),o("button",{class:"btn btn-sm btn-outline-info mb-2 w-100",onClick:e[0]||(e[0]=t=>s.toggleIsPublic(t))},u(s.selfLocusInfo.isPublic?"Hide from public listing":"Show on public listing"),1)])]),o("div",Ts,[o("div",Rs,[n(" Roles "),zs,o("div",As,[f(o("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>s.newRole=t),class:"form-control form-control-sm ml-2"},[Cs,(i(!0),l(m,null,g(s.roleOptions,t=>(i(),l("option",{key:t,value:t,class:"text-capitalize"},u(t),9,Ds))),128))],512),[[k,s.newRole]]),o("div",Vs,[s.userRoles.includes(s.newRole)?d("",!0):(i(),l("button",{key:0,disabled:s.userRoles.includes(s.newRole),class:"btn btn-sm btn-outline-success",type:"button",onClick:e[2]||(e[2]=t=>s.updateRole(t))},Us,8,Es))]),o("div",Ms,[s.userRoles.includes(s.newRole)?(i(),l("button",{key:0,disabled:!s.userRoles.includes(s.newRole),class:"btn btn-sm btn-outline-danger",type:"button",onClick:e[3]||(e[3]=t=>s.updateRole(t))},Ns,8,Ss)):d("",!0)])])])]),Os,o("div",js,[o("div",Bs,[n(" Discord "),Ys,f(o("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>s.newDiscord=t),class:"ml-1 form-control form-control-sm w-100",placeholder:"discord...",maxlength:"40",onChange:e[5]||(e[5]=t=>s.updateDiscord(t))},null,544),[[I,s.newDiscord]])])]),o("div",qs,[o("div",Ws,[n(" Email "),Hs,f(o("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>s.newEmail=t),class:"ml-1 form-control form-control-sm w-100",placeholder:"email...",maxlength:"100",onChange:e[7]||(e[7]=t=>s.updateEmail(t))},null,544),[[I,s.newEmail]])])]),o("div",Ks,[o("div",Gs,[n(" Timezone "),Js,f(o("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>s.newTimezone=t),class:"form-select form-select-sm w-100 d-inline",onChange:e[9]||(e[9]=t=>s.updateTimezone(t))},[Qs,(i(!0),l(m,null,g(s.timezoneOptions,t=>(i(),l("option",{key:t,value:t},u(t)+" UTC ",9,Xs))),128))],544),[[k,s.newTimezone]])])]),o("div",Zs,[o("div",xs,[n(" Availability "),se,f(o("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>s.newAvailability=t),class:"ml-1 form-control form-control-sm w-100",placeholder:"availability...",maxlength:"400",onChange:e[11]||(e[11]=t=>s.updateAvailability(t))},null,544),[[I,s.newAvailability]])])]),o("div",ee,[o("div",oe,[n(" Languages "),te,o("div",ie,[f(o("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>s.newLanguage=t),class:"form-control form-control-sm ml-2"},[le,(i(!0),l(m,null,g(s.languageOptions,t=>(i(),l("option",{key:t,value:t,class:"text-capitalize"},u(t),9,ne))),128))],512),[[k,s.newLanguage]]),o("div",ae,[s.userLanguages.includes(s.newLanguage)?d("",!0):(i(),l("button",{key:0,disabled:s.userLanguages.includes(s.newLanguage),class:"btn btn-sm btn-outline-success",type:"button",onClick:e[13]||(e[13]=t=>s.updateLanguage(t))},ce,8,ue))]),o("div",re,[s.userLanguages.includes(s.newLanguage)?(i(),l("button",{key:0,disabled:!s.userLanguages.includes(s.newLanguage),class:"btn btn-sm btn-outline-danger",type:"button",onClick:e[14]||(e[14]=t=>s.updateLanguage(t))},pe,8,fe)):d("",!0)])])])]),me,o("div",ge,[o("div",be,[n(" About "),ye,f(o("textarea",{"onUpdate:modelValue":e[15]||(e[15]=t=>s.newAbout=t),length:"4",class:"ml-1 form-control form-control-sm",placeholder:"about...",maxlength:"40000",rows:"4",onChange:e[16]||(e[16]=t=>s.updateAbout(t))},null,544),[[I,s.newAbout]])])])]),s.selfLocusInfo?(i(),l("div",Ie,[y(r,{"locus-info":s.selfLocusInfo},null,8,["locus-info"]),o("div",ve,u(s.selfLocusInfo.isPublic?"":"Your info is currently hidden from public display."),1)])):d("",!0)])])]),_e])}const Le=_(vs,[["render",$e]]),we=v({name:"LocusPage",components:{LocusPageFilters:W,SelfLocusInfo:Le,LocusCard:T},data(){return{userInput:null}},computed:{...b(["loggedInUser"]),...b("locus",["selfLocusInfo"]),...V("locus",["filteredLocusInfos"])},beforeCreate(){this.$store.hasModule("locus")||this.$store.registerModule("locus",S)},async created(){const s=await this.$http.initialRequest("/locus/query");this.$http.isError(s)||(this.$store.commit("locus/setLocusInfos",s.locusInfos),this.$store.commit("locus/setSelfLocusInfo",s.selfLocusInfo))},methods:{}}),ke=P('<div class="container card card-body py-4 my-4"><h4>Welcome to Locus!</h4><div> Derived from Latin, a <b>locus</b> can be described as &quot;a particular place or position where something of interest occurs&quot;. Locus was conceived as an event that would bring the creative circles in osu! closer together. Beyond simply being a contest, Locus aims to foster positive relationships and champion the communities that shape the very foundation of osu!. </div><div class="mt-2"> Read the <a href="LINK" target="_blank">news post</a> for an introduction to the contest, and the <a href="LINK" target="_blank">wiki article</a> for the nitty gritty details. </div><div class="mt-2"> To discuss anything about Locus, check out the <code>#locus</code> channel in the <a href="https://discord.gg/ppy" target="_blank">osu! Discord server</a>. </div><hr><h5>What is the Nexus?</h5><div> We cannot expect every composer and graphic designer who is interested in participating to be familiar with navigating the osu! community, so the <b>Nexus</b> was created as a support system to help those who are looking to form or join viable teams. </div><ul class="mt-2"><li> Potential participants who are looking to form a team may browse the Nexus to contact someone who they feel is suitable. </li><li> Once a team has been registered, the team memberâ€™s bios will be removed from the Nexus. </li></ul></div>',1),Te={class:"container card card-body mb-2"},Re=o("h5",{class:"mt-2"},[o("a",{"data-bs-toggle":"collapse",href:"#selfDetails"},[n(" Your details "),o("i",{class:"fas fa-angle-down"})])],-1),ze=o("div",{class:"radial-divisor"},null,-1),Ae={class:"container card card-body"},Ce=o("h4",null,"Potential team members",-1),De={class:"row"};function Ve(s,e,a,c,$,L){const r=h("locus-page-filters"),t=h("self-locus-info"),p=h("locus-card");return i(),l("div",null,[ke,y(r),o("div",Te,[Re,y(t,{id:"selfDetails",class:"collapse"})]),ze,o("div",Ae,[Ce,o("div",De,[(i(!0),l(m,null,g(s.filteredLocusInfos,w=>(i(),E(p,{key:w.id,"locus-info":w,class:"col-sm-6"},null,8,["locus-info"]))),128))])])])}const Ue=_(we,[["render",Ve]]);export{Ue as default};
